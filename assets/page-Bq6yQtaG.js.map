{"version":3,"file":"page-Bq6yQtaG.js","sources":["../../src/pages/dashboard/after-loan/asset-soundness-bad-debt/soundness-foundation-data-generation/page.tsx"],"sourcesContent":["\n\nimport { usePathname } from \"@/lib/hooks/useAppLocation\";\nimport { useCallback, useState, useEffect } from \"react\";\nimport { usePageStore } from \"@/lib/store/pageStore\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n} from \"@/components/ui/breadcrumb\";\nimport { CustomTabs as Tabs, CustomTabsContent as TabsContent, CustomTabsList as TabsList, CustomTabsTrigger as TabsTrigger } from \"@/components/app/CustomTabs\";\nimport { LeftActions } from \"@/components/app/LeftActions\";\nimport { RightActions, ActionType } from \"@/components/app/RightActions\";\nimport { DataTable } from \"@/components/app/DataTable\";\nimport type { FilterLayout } from \"@/components/filters/types\";\nimport { FilterContainer } from \"@/components/filters/FilterContainer\";\nimport TitleIcon from \"@/assets/icons/webp/title-icon.webp\";\nimport { ColumnDef } from \"@tanstack/react-table\";\n\n// 1. Type Definitions\ntype SoundnessDataGenerationItem = {\n  id: number;\n  baseYM: string;\n  customerName: string;\n  bizRegNo: string;\n  realNameNo: string;\n  corpRegNo: string;\n};\n\n// 2. Column Definitions\nconst createColumn = (accessorKey: string, header: string): ColumnDef<SoundnessDataGenerationItem> => ({\n  accessorKey,\n  header,\n});\n\nconst columns: ColumnDef<SoundnessDataGenerationItem>[] = [\n  createColumn(\"id\", \"순번\"),\n  createColumn(\"baseYM\", \"기준년월\"),\n  createColumn(\"customerName\", \"고객명\"),\n  createColumn(\"bizRegNo\", \"개인사업자등록번호\"),\n  createColumn(\"realNameNo\", \"실명번호\"),\n  createColumn(\"corpRegNo\", \"법인등록번호\"),\n];\n\n// 3. Mock Data\nconst mockData: SoundnessDataGenerationItem[] = Array.from({ length: 5 }, (_, i) => ({\n  id: i + 1,\n  baseYM: \"2024-11\",\n  customerName: `고객${i + 1}`,\n  bizRegNo: `123-45-6789${i}`,\n  realNameNo: `800101-123456${i}`,\n  corpRegNo: `110111-123456${i}`,\n}));\n\nexport default function SoundnessDataGenerationPage() {\n  const tabId = usePathname();\n  const { currentState, updateFilters, updateTableData, clearState } = usePageStore();\n  const [activeTab, setActiveTab] = useState(\"inquiry\");\n\n  // 4. Filter Layout\n  const filterLayout: FilterLayout = [\n    {\n      type: \"grid\",\n      columns: 2,\n      filters: [\n        { \n          name: \"settlementMonth\", \n          type: \"select\", \n          label: \"결산월\", \n          options: [\n            { value: \"2024-11\", label: \"2024-11\" },\n            { value: \"2024-10\", label: \"2024-10\" },\n          ] \n        },\n        { \n          name: \"reportType\", \n          type: \"select\", \n          label: \"보고서 종류\", \n          options: [\n            { value: \"type1\", label: \"보고서1\" },\n            { value: \"type2\", label: \"보고서2\" },\n          ] \n        },\n      ],\n    },\n  ];\n\n  const handleFilterChange = useCallback(\n    (name: string, value: any) => {\n      updateFilters(tabId, { [name]: value });\n    },\n    [tabId, updateFilters]\n  );\n\n  const handleSearch = () => {\n    console.log(\"Searching...\");\n    updateTableData(tabId, 'soundnessTable', mockData);\n  };\n\n  const handleReset = () => {\n    clearState(tabId);\n  };\n\n  const handleUpload = () => {\n    console.log(\"Uploading...\");\n  };\n\n  // Dynamic Actions based on Tab\n  const leftActions = activeTab === 'inquiry' \n    ? [{ id: 'progressStatus' as any }, { id: 'complete' as any }]\n    : [{ id: 'progressStatus' as any }, { id: 'generateData' as any }];\n\n  const rightActions = activeTab === 'inquiry'\n    ? [\n        { id: 'search' as ActionType, onClick: handleSearch },\n        { id: 'reset' as ActionType, onClick: handleReset }\n      ]\n    : [\n        { id: 'excel-upload' as ActionType, onClick: handleUpload }\n      ];\n\n  if (!currentState) return null;\n\n  const rowCount = currentState.tables?.['soundnessTable']?.length || 0;\n\n  return (\n    <div className=\"flex flex-col gap-6 pb-10\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <img src={TitleIcon} alt=\"타이틀 아이콘\" width={40} height={40} />\n          <h2 className=\"text-lg font-semibold\">건전성 기초자료 생성</h2>\n        </div>\n        <Breadcrumb>\n          <BreadcrumbList>\n            <BreadcrumbItem>홈</BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem>여신사후</BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem>재산건전성/대손상각</BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem>\n              <BreadcrumbPage>건전성 기초자료 생성</BreadcrumbPage>\n            </BreadcrumbItem>\n          </BreadcrumbList>\n        </Breadcrumb>\n      </div>\n\n      {/* Actions Row */}\n      <div className=\"flex items-center justify-between\">\n        <LeftActions actions={leftActions} />\n        <RightActions actions={rightActions} />\n      </div>\n\n      {/* Tabs Area */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        <TabsList>\n          <TabsTrigger value=\"inquiry\">조회</TabsTrigger>\n          <TabsTrigger value=\"generation\">생성</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"inquiry\" className=\"flex flex-col gap-4 mt-0\">\n            <FilterContainer \n                filterLayout={filterLayout}\n                values={currentState.filters}\n                onChange={handleFilterChange}\n            />\n            \n            <DataTable \n                title=\"조회내용\"\n                columns={columns}\n                data={currentState.tables?.['soundnessTable'] || []}\n            />\n        </TabsContent>\n\n        <TabsContent value=\"generation\" className=\"flex flex-col gap-4 mt-0\">\n            <FilterContainer \n                filterLayout={filterLayout}\n                values={currentState.filters}\n                onChange={handleFilterChange}\n            />\n            \n            <DataTable \n                title=\"조회내용\"\n                columns={columns}\n                data={currentState.tables?.['soundnessTable'] || []}\n            />\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}"],"names":["createColumn","accessorKey","header","columns","mockData","_","i","SoundnessDataGenerationPage","tabId","usePathname","currentState","updateFilters","updateTableData","clearState","usePageStore","activeTab","setActiveTab","useState","filterLayout","handleFilterChange","useCallback","name","value","handleSearch","handleReset","handleUpload","leftActions","rightActions","_b","_a","jsxs","jsx","TitleIcon","Breadcrumb","BreadcrumbList","BreadcrumbItem","BreadcrumbSeparator","BreadcrumbPage","LeftActions","RightActions","Tabs","TabsList","TabsTrigger","TabsContent","FilterContainer","DataTable","_c","_d"],"mappings":"wpBAgCA,MAAMA,EAAe,CAACC,EAAqBC,KAA4D,CACrG,YAAAD,EACA,OAAAC,CACF,GAEMC,EAAoD,CACxDH,EAAa,KAAM,IAAI,EACvBA,EAAa,SAAU,MAAM,EAC7BA,EAAa,eAAgB,KAAK,EAClCA,EAAa,WAAY,WAAW,EACpCA,EAAa,aAAc,MAAM,EACjCA,EAAa,YAAa,QAAQ,CACpC,EAGMI,EAA0C,MAAM,KAAK,CAAE,OAAQ,GAAK,CAACC,EAAGC,KAAO,CACnF,GAAIA,EAAI,EACR,OAAQ,UACR,aAAc,KAAKA,EAAI,CAAC,GACxB,SAAU,cAAcA,CAAC,GACzB,WAAY,gBAAgBA,CAAC,GAC7B,UAAW,gBAAgBA,CAAC,EAC9B,EAAE,EAEF,SAAwBC,IAA8B,aACpD,MAAMC,EAAQC,EAAA,EACR,CAAE,aAAAC,EAAc,cAAAC,EAAe,gBAAAC,EAAiB,WAAAC,CAAA,EAAeC,EAAA,EAC/D,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,SAAS,EAG9CC,EAA6B,CACjC,CACE,KAAM,OACN,QAAS,EACT,QAAS,CACP,CACE,KAAM,kBACN,KAAM,SACN,MAAO,MACP,QAAS,CACP,CAAE,MAAO,UAAW,MAAO,SAAA,EAC3B,CAAE,MAAO,UAAW,MAAO,SAAA,CAAU,CACvC,EAEF,CACE,KAAM,aACN,KAAM,SACN,MAAO,SACP,QAAS,CACP,CAAE,MAAO,QAAS,MAAO,MAAA,EACzB,CAAE,MAAO,QAAS,MAAO,MAAA,CAAO,CAClC,CACF,CACF,CACF,EAGIC,EAAqBC,EAAAA,YACzB,CAACC,EAAcC,IAAe,CAC5BX,EAAcH,EAAO,CAAE,CAACa,CAAI,EAAGC,EAAO,CACxC,EACA,CAACd,EAAOG,CAAa,CAAA,EAGjBY,EAAe,IAAM,CACzB,QAAQ,IAAI,cAAc,EAC1BX,EAAgBJ,EAAO,iBAAkBJ,CAAQ,CACnD,EAEMoB,EAAc,IAAM,CACxBX,EAAWL,CAAK,CAClB,EAEMiB,EAAe,IAAM,CACzB,QAAQ,IAAI,cAAc,CAC5B,EAGMC,EAAcX,IAAc,UAC9B,CAAC,CAAE,GAAI,gBAAA,EAA2B,CAAE,GAAI,WAAmB,EAC3D,CAAC,CAAE,GAAI,kBAA2B,CAAE,GAAI,eAAuB,EAE7DY,EAAeZ,IAAc,UAC/B,CACE,CAAE,GAAI,SAAwB,QAASQ,CAAA,EACvC,CAAE,GAAI,QAAuB,QAASC,CAAA,CAAY,EAEpD,CACE,CAAE,GAAI,eAA8B,QAASC,CAAA,CAAa,EAGhE,OAAKf,IAEYkB,GAAAC,EAAAnB,EAAa,SAAb,YAAAmB,EAAsB,iBAAtB,MAAAD,EAAyC,OAGxDE,EAAAA,KAAC,MAAA,CAAI,UAAU,4BAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,IAAKC,EAAW,IAAI,UAAU,MAAO,GAAI,OAAQ,EAAA,CAAI,EAC1DD,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,aAAA,CAAW,CAAA,EACnD,EACAA,EAAAA,IAACE,EAAA,CACC,SAAAH,EAAAA,KAACI,EAAA,CACC,SAAA,CAAAH,EAAAA,IAACI,GAAe,SAAA,GAAA,CAAC,QAChBC,EAAA,EAAoB,EACrBL,EAAAA,IAACI,GAAe,SAAA,MAAA,CAAI,QACnBC,EAAA,EAAoB,EACrBL,EAAAA,IAACI,GAAe,SAAA,YAAA,CAAU,QACzBC,EAAA,EAAoB,EACrBL,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACM,EAAA,CAAe,uBAAW,CAAA,CAC7B,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGAP,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAACO,EAAA,CAAY,QAASZ,CAAA,CAAa,EACnCK,EAAAA,IAACQ,EAAA,CAAa,QAASZ,CAAA,CAAc,CAAA,EACvC,SAGCa,EAAA,CAAK,MAAOzB,EAAW,cAAeC,EAAc,UAAU,SAC7D,SAAA,CAAAc,OAACW,EAAA,CACC,SAAA,CAAAV,EAAAA,IAACW,EAAA,CAAY,MAAM,UAAU,SAAA,KAAE,EAC/BX,EAAAA,IAACW,EAAA,CAAY,MAAM,aAAa,SAAA,IAAA,CAAE,CAAA,EACpC,EAEAZ,EAAAA,KAACa,EAAA,CAAY,MAAM,UAAU,UAAU,2BACnC,SAAA,CAAAZ,EAAAA,IAACa,EAAA,CACG,aAAA1B,EACA,OAAQR,EAAa,QACrB,SAAUS,CAAA,CAAA,EAGdY,EAAAA,IAACc,EAAA,CACG,MAAM,OACN,QAAA1C,EACA,OAAM2C,EAAApC,EAAa,SAAb,YAAAoC,EAAsB,iBAAqB,CAAA,CAAC,CAAA,CACtD,EACJ,EAEAhB,EAAAA,KAACa,EAAA,CAAY,MAAM,aAAa,UAAU,2BACtC,SAAA,CAAAZ,EAAAA,IAACa,EAAA,CACG,aAAA1B,EACA,OAAQR,EAAa,QACrB,SAAUS,CAAA,CAAA,EAGdY,EAAAA,IAACc,EAAA,CACG,MAAM,OACN,QAAA1C,EACA,OAAM4C,EAAArC,EAAa,SAAb,YAAAqC,EAAsB,iBAAqB,CAAA,CAAC,CAAA,CACtD,CAAA,CACJ,CAAA,CAAA,CACF,CAAA,EACF,GApEwB,IAsE5B"}