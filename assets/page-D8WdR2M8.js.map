{"version":3,"file":"page-D8WdR2M8.js","sources":["../../src/pages/popup/counseling-registration/page.tsx"],"sourcesContent":["\n\nimport { useState, useCallback, useMemo } from \"react\";\nimport { FilterContainer } from \"@/components/filters/FilterContainer\";\nimport { PopupRightActions, PopupAction } from \"@/components/app/PopupRightActions\";\nimport type { FilterLayout } from \"@/components/filters/types\";\nimport { Textarea } from \"@/components/ui/textarea\";\n\nexport default function CounselingRegistrationPopup() {\n  const [filters, setFilters] = useState<Record<string, any>>({\n    callStartTime: \"2025-12-17 15:45:43\",\n    contactTarget: \"self\",\n    contactType: \"not_entered\",\n    guidanceType: \"dunning\",\n    customerInvolvement: \"Y\",\n    leakage: \"Y\",\n    compensation: \"N\",\n    callResult: { select1: \"\", select2: \"\" },\n    taskClassification: { select1: \"\", select2: \"\" },\n  });\n\n  const handleFilterChange = useCallback((name: string, value: any) => {\n    setFilters((prev) => ({ ...prev, [name]: value }));\n  }, []);\n  \n  const handleRegister = () => {\n    console.log(\"Registering counseling session:\", filters);\n    alert(\"상담내역이 등록되었습니다.\");\n  };\n\n  const handleClose = () => {\n    window.close();\n  };\n\n  const popupActions: PopupAction[] = [\n    { id: \"register\", text: \"등록\", onClick: handleRegister },\n    { id: \"close\", text: \"닫기\", onClick: handleClose },\n  ];\n  \n  const mainInfoLayout: FilterLayout = useMemo(() => [\n    {\n      type: \"grid\",\n      columns: 3,\n      filters: [\n        { name: \"callStartTime\", type: \"text\", label: \"통화시작일시\", readonly: true },\n        { name: \"residentNumber\", type: \"text\", label: \"주민번호\" },\n        { name: \"customerName\", type: \"text\", label: \"고객명\" },\n\n        { \n          name: \"contactTarget\", \n          type: \"select\", \n          label: \"컨택대상\", \n          options: [{ value: \"self\", label: \"본인\" }, { value: \"other\", label: \"기타\" }] \n        },\n        { \n          name: \"callResult\", \n          type: \"double-select\", \n          label: \"통화결과\", \n          options1: [{ value: \"call_success\", label: \"통화성공\" }, { value: \"call_fail\", label: \"부재\" }],\n          options2: [{ value: \"sub_1\", label: \"상세1\" }, { value: \"sub_2\", label: \"상세2\" }]\n        },\n        { name: \"phoneNumber\", type: \"text\", label: \"전화번호\" },\n\n        { \n          name: \"contactType\", \n          type: \"select\", \n          label: \"연락처유형\", \n          options: [{ value: \"not_entered\", label: \"미입력\" }, { value: \"mobile\", label: \"휴대폰\" }] \n        },\n        { \n          name: \"taskClassification\", \n          type: \"double-select\", \n          label: \"업무구분\",\n          options1: [{ value: \"inquiry\", label: \"문의\" }, { value: \"complaint\", label: \"불만\" }],\n          options2: [{ value: \"sub_A\", label: \"상세A\" }, { value: \"sub_B\", label: \"상세B\" }]\n        },\n        { \n          name: \"guidanceType\", \n          type: \"select\", \n          label: \"안내유형\", \n          options: [{ value: \"dunning\", label: \"독촉\" }, { value: \"info\", label: \"안내\" }] \n        },\n      ],\n    },\n  ], []);\n  \n  const promiseLayout: FilterLayout = useMemo(() => [\n    {\n      type: \"grid\",\n      columns: 3,\n      filters: [\n        { name: \"promiseDate\", type: \"date\", label: \"약속일자\" },\n        { name: \"promiseAmount\", type: \"number\", label: \"약속금액\" },\n        { name: \"importantMemo\", type: \"checkbox\", label: \"중요메모체크\" },\n      ]\n    },\n  ], []);\n\n  const memoLayout: FilterLayout = useMemo(() => [\n    {\n      type: \"grid\",\n      columns: 1,\n              filters: [\n                  { \n                      name: \"memo\", \n                      type: \"textarea\", \n                      placeholder: \"메모를 입력하세요...\",\n                  },\n              ]    }\n  ], []);\n\n  const additionalInfoLayout: FilterLayout = useMemo(() => [\n    {\n        type: \"grid\",\n        columns: 3,\n        filters: [\n            { \n                name: \"customerInvolvement\", \n                type: \"radio-group\", \n                label: \"고객여부\", \n                options: [\n                    { value: \"Y\", label: \"Y\" },\n                    { value: \"N\", label: \"N\" }\n                ] \n            },\n            { \n                name: \"leakage\", \n                type: \"radio-group\", \n                label: \"유출여부\", \n                options: [\n                    { value: \"Y\", label: \"Y\" },\n                    { value: \"N\", label: \"N\" }\n                ] \n            },\n            { \n                name: \"compensation\", \n                type: \"radio-group\", \n                label: \"보상여부\", \n                options: [\n                    { value: \"Y\", label: \"Y\" },\n                    { value: \"N\", label: \"N\" }\n                ] \n            },\n        ]\n    }\n  ], []);\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-50 text-sm\">\n      <div className=\"flex justify-between items-center p-4 bg-white border-b shrink-0\">\n        <h1 className=\"text-xl font-bold\">상담등록</h1>\n        <PopupRightActions actions={popupActions} />\n      </div>\n\n      <div className=\"flex-1 overflow-auto p-4 flex flex-col gap-6\">\n        <div className=\"flex flex-col gap-2\">\n            <h3 className=\"font-semibold mb-2\">상담내역</h3>\n            <div className=\"flex flex-col gap-3\">\n                <FilterContainer\n                    filterLayout={mainInfoLayout}\n                    values={filters}\n                    onChange={handleFilterChange}\n                />\n                <FilterContainer\n                    filterLayout={promiseLayout}\n                    values={filters}\n                    onChange={handleFilterChange}\n                />\n                <div className=\"flex flex-col gap-2\">\n                    <h3 className=\"font-semibold\">메모</h3>\n                    <FilterContainer\n                        filterLayout={memoLayout}\n                        values={filters}\n                        onChange={handleFilterChange}\n                    />\n                </div>           \n            </div>\n        </div>\n        \n        <div className=\"flex flex-col gap-2\">\n            <h3 className=\"font-semibold\">개인정보민원 추가정보</h3>\n            <FilterContainer\n                filterLayout={additionalInfoLayout}\n                values={filters}\n                onChange={handleFilterChange}\n            />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["CounselingRegistrationPopup","filters","setFilters","useState","handleFilterChange","useCallback","name","value","prev","popupActions","mainInfoLayout","useMemo","promiseLayout","memoLayout","additionalInfoLayout","jsxs","jsx","PopupRightActions","FilterContainer"],"mappings":"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"}