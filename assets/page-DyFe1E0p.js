import{d as x,e as f,r as u,j as t}from"./index-rFDfNqWc.js";import{l as g}from"./popup-bus-D6rWwgNZ.js";import{T as D,B as j,a as C,b as s,c,d as k}from"./title-icon-CvBBuwD4.js";import{L as v}from"./LeftActions-CcmBm_BH.js";import{R as B}from"./RightActions-xaMJTuvG.js";import{D as A}from"./DataTable-Dvqiat0m.js";import{F as p}from"./FilterContainer-DiDM2qk2.js";import"./Combination-48IUafib.js";import"./index-BVYKgh-g.js";import"./table-Crt9sqOn.js";import"./format-Bs4upCOt.js";import"./select-zoLzkzr2.js";import"./index-C-hN5_st.js";import"./checkbox-NKdEwGcU.js";import"./textarea-BhWVCVZg.js";const w=[{id:1,acntNo:"123-456-7890",applicantNm:"홍길동",acntSttsCd:"정상",prdctNm:"신용대출",nwDt:"20230101",expDt:"20240101",loanAmt:1e7},{id:2,acntNo:"987-654-3210",applicantNm:"김철수",acntSttsCd:"연체",prdctNm:"담보대출",nwDt:"20220515",expDt:"20250515",loanAmt:5e7}],S=[{accessorKey:"id",header:"순번"},{accessorKey:"acntNo",header:"계좌번호"},{accessorKey:"applicantNm",header:"신청인명"},{accessorKey:"acntSttsCd",header:"계좌상태"},{accessorKey:"prdctNm",header:"상품명"},{accessorKey:"nwDt",header:"대출신규일자"},{accessorKey:"expDt",header:"대출만기일자"},{accessorKey:"loanAmt",header:"대출금액"}];function z(){const n=x(),{currentState:l,updateFilters:r,clearState:d}=f();u.useEffect(()=>g(e=>{if(e.targetTabId===n){if(e.source==="customer-search"){const o=e.payload,m=o.sourceFilter;m==="customerNumber"?r(n,{customerNumber:o.centralCustomerNumber}):m==="applicantName"&&r(n,{applicantName:o.customerName})}else if(e.source==="modification-history"){const o=e.payload;r(n,{topAccountNumber:o.accountNumber,topCustomerNumber:o.customerNumber})}}}),[n,r]);const b=[{type:"grid",columns:3,filters:[{name:"topCustomerNumber",type:"text",label:"고객번호",readonly:!0},{name:"topAccountNumber",type:"text",label:"계좌번호",readonly:!0},{name:"bondAdjustmentType",type:"select",label:"채권조정구분",options:[{value:"bankruptcy-exemption",label:"파산/면책"}],defaultValue:"bankruptcy-exemption",readonly:!0}]}],h=[{type:"grid",columns:4,filters:[{name:"customerNumber",type:"long-search",label:"고객번호",onButtonClick:(a,e)=>{e==null||e.preventDefault(),e==null||e.stopPropagation();const o=a||"";window.open(`/popup/customer-search?customerNumber=${o}&sourceFilter=customerNumber`,"CustomerSearch","width=1600,height=800")}},{name:"debtorName",type:"text",label:"채무자명",readonly:!0},{name:"applicantName",type:"long-search",label:"신청자명",readonly:!0,onButtonClick:(a,e)=>{e==null||e.preventDefault(),e==null||e.stopPropagation();const o=a||"";window.open(`/popup/customer-search?customerName=${o}&sourceFilter=applicantName`,"CustomerSearch","width=1600,height=800")}},{name:"residentRegistrationNumber",type:"text",label:"주민등록번호",readonly:!0},{name:"accountNumber",type:"text",label:"계좌번호",readonly:!0},{name:"loanBalance",type:"number",label:"대출잔액",readonly:!0},{name:"handlingBank",type:"text",label:"취급은행"},{name:"blank_1",type:"blank"},{name:"balanceStandardMonth",type:"date",label:"잔액기준년월"},{name:"standardBalanceAmount",type:"number",label:"기준잔액금액"},{name:"blank_2",type:"blank"},{name:"blank_3",type:"blank"},{name:"competentCourt",type:"select",label:"관할법원",options:[{value:"gapyeong",label:"[26] 가평군법원"},{value:"seoul",label:"[01] 서울중앙지법"}]},{name:"progressStatus",type:"select",label:"진행상태",options:[{value:"receipt",label:"접수"},{value:"ongoing",label:"진행중"},{value:"completed",label:"완료"}]},{name:"caseNumberBottom",type:"text",label:"사건번호(하단)"},{name:"caseNumberScreen",type:"text",label:"사건번호(화면)"},{name:"receiptDate",type:"date",label:"접수일자"},{name:"sentencingDate",type:"date",label:"선고일자"},{name:"exemptionDate",type:"date",label:"면책일"},{name:"revocationDate",type:"date",label:"폐지일자"},{name:"notes",type:"text",label:"특이사항",colSpan:4}]}],i=u.useCallback((a,e)=>{r(n,{[a]:e})},[n,r]),y=a=>{const e={customerNumber:"00012345678",debtorName:a.applicantNm,applicantName:a.applicantNm,residentRegistrationNumber:"800101-1234567",accountNumber:a.acntNo,loanBalance:a.loanAmt,handlingBank:"친애저축은행",balanceStandardMonth:"2024-01-01",standardBalanceAmount:a.loanAmt,competentCourt:"seoul",progressStatus:"ongoing",caseNumberBottom:"2023개회12345",caseNumberScreen:"2023-12345",receiptDate:"2023-05-01",sentencingDate:"2023-06-01",exemptionDate:"2024-05-01",revocationDate:"",notes:"특이사항 없음",topCustomerNumber:"00012345678",topAccountNumber:a.acntNo};r(n,e)},N=()=>{const{customerNumber:a,accountNumber:e}=(l==null?void 0:l.filters)||{};window.open(`/popup/modification-history?customerNumber=${a||""}&accountNumber=${e||""}&openerTabId=${n}`,"ModificationHistory","width=1600,height=800")};return l?t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:D,alt:"타이틀 아이콘",width:40,height:40}),t.jsx("h2",{className:"text-lg font-semibold",children:"파산면책관리"})]}),t.jsx(j,{children:t.jsxs(C,{children:[t.jsx(s,{children:"홈"}),t.jsx(c,{}),t.jsx(s,{children:"여신사후"}),t.jsx(c,{}),t.jsx(s,{children:"채권조정"}),t.jsx(c,{}),t.jsx(s,{children:t.jsx(k,{children:"파산면책관리"})})]})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(v,{actions:[{id:"modification-history",onClick:N}]}),t.jsx(B,{actions:[{id:"searchDoc"},{id:"scan"},{id:"new"},{id:"register"},{id:"search"},{id:"data-reset",onClick:()=>d(n)}]})]}),t.jsx(p,{filterLayout:b,values:l.filters,onChange:i}),t.jsx(A,{title:"당행",columns:S,data:w,amountColumns:["loanAmt"],dateColumnConfig:{nwDt:"YYYYMMDD",expDt:"YYYYMMDD"},onRowClick:y}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("h3",{className:"font-semibold",children:"파산면책 원장정보"}),t.jsx(p,{filterLayout:h,values:l.filters,onChange:i})]})]}):null}export{z as default};
//# sourceMappingURL=page-DyFe1E0p.js.map
