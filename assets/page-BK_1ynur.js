import{d as $,e as F,r as m,j as e}from"./index-2Av6MLFj.js";import{l as q}from"./popup-bus-D6rWwgNZ.js";import{T as L,B as R,a as E,b as i,c as u,d as P}from"./title-icon-nFIwsV-0.js";import{C as A,a as U,b as f,c as j}from"./CustomTabs-wPWvvwbx.js";import{R as Y}from"./RightActions-CUX54lWR.js";import{D as N}from"./DataTable-C4vt9fnC.js";import{F as y}from"./FilterContainer-Cxktb3TD.js";import"./index-DmPuGcMg.js";import"./Combination-Bip0-cB-.js";import"./table-jcuTC0ZX.js";import"./format-Bs4upCOt.js";import"./select-Duqj-Ize.js";import"./index-B6SAKWOZ.js";import"./checkbox-COTNJ_PZ.js";import"./textarea-SvLRbOEg.js";const o=(t,r)=>({accessorKey:t,header:r}),C=[o("id","순번"),o("managerName","담당자명"),o("incorporationDate","편입일자"),o("customerNo","고객번호"),o("customerName","고객명"),o("accountNo","계좌번호"),o("productName","상품명")],V=Array.from({length:5},(t,r)=>({id:r+1,managerName:`담당자${r+1}`,incorporationDate:"2024-01-01",customerNo:`CUST${1e3+r}`,customerName:`고객${r+1}`,accountNo:`123-45-6789${r}`,productName:"신용대출"}));function ne(){var h,g,b,x;const t=$(),{currentState:r,updateFilters:s,updateTableData:v,clearState:T}=F(),[c,w]=m.useState("inquiry");m.useEffect(()=>q(a=>{if(a.targetTabId===t){if(a.source==="branch-management"){const n=a.payload;s(t,{managementBranch:{code:n.branchCode,name:n.branchName}})}else if(a.source==="user-search"){const n=a.payload;c==="inquiry"?s(t,{manager:{code:n.userId,name:n.userName}}):s(t,{regManager:{code:n.userId,name:n.userName},regManagerName:n.userName})}else if(a.source==="customer-search"){const n=a.payload;s(t,{customerNo:{code:n.centralCustomerNumber,name:n.customerName}})}}}),[t,c,s]);const d=m.useCallback((l,a)=>{s(t,{[l]:a})},[t,s]),B=()=>{console.log("Searching..."),v(t,"managerTable",V)},p=()=>{T(t)},D=()=>{console.log("Registering...")},S=()=>{console.log("Downloading Excel...")},k=[{type:"grid",columns:3,filters:[{name:"incorporationDate",type:"date-range",label:"편입일자"},{name:"managementBranch",type:"search",label:"관리부점",onButtonClick:(l,a)=>{a==null||a.preventDefault(),window.open(`/popup/branch-management?openerTabId=${t}`,"BranchManagement","width=1600,height=800")}},{name:"manager",type:"long-search",label:"담당자",onButtonClick:(l,a)=>{a==null||a.preventDefault(),window.open(`/popup/user-search?openerTabId=${t}`,"UserSearch","width=1600,height=800")}},{name:"customerNo",type:"search",label:"고객번호",onButtonClick:(l,a)=>{a==null||a.preventDefault(),window.open(`/popup/customer-search?openerTabId=${t}`,"CustomerSearch","width=1600,height=800")}},{name:"accountNo",type:"text",label:"계좌번호"},{name:"isManager",type:"select",label:"담당여부",options:[{value:"Y",label:"Y"},{value:"N",label:"N"}]}]}],I=[{type:"grid",columns:3,filters:[{name:"regManager",type:"long-search",label:"담당자",onButtonClick:(l,a)=>{a==null||a.preventDefault(),window.open(`/popup/user-search?openerTabId=${t}`,"UserSearch","width=1600,height=800")}},{name:"regManagerName",type:"text",label:"담당자명",readonly:!0},{name:"regStartDate",type:"date",label:"담당시작일"}]}],M=c==="inquiry"?[{id:"excel",onClick:S},{id:"search",onClick:B},{id:"reset",onClick:p}]:[{id:"register",onClick:D},{id:"reset",onClick:p}];return r?((g=(h=r.tables)==null?void 0:h.managerTable)!=null&&g.length,e.jsxs("div",{className:"flex flex-col gap-6 pb-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:L,alt:"타이틀 아이콘",width:40,height:40}),e.jsx("h2",{className:"text-lg font-semibold",children:"특수채권 담당자관리"})]}),e.jsx(R,{children:e.jsxs(E,{children:[e.jsx(i,{children:"홈"}),e.jsx(u,{}),e.jsx(i,{children:"여신사후"}),e.jsx(u,{}),e.jsx(i,{children:"특수채권"}),e.jsx(u,{}),e.jsx(i,{children:e.jsx(P,{children:"특수채권 담당자관리"})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(Y,{actions:M})}),e.jsxs(A,{value:c,onValueChange:w,className:"w-full",children:[e.jsxs(U,{children:[e.jsx(f,{value:"inquiry",children:"조회"}),e.jsx(f,{value:"registration",children:"담당자 등록"})]}),e.jsxs(j,{value:"inquiry",className:"flex flex-col gap-4 mt-0",children:[e.jsx(y,{filterLayout:k,values:r.filters,onChange:d}),e.jsx(N,{title:"조회내용",columns:C,data:((b=r.tables)==null?void 0:b.managerTable)||[]})]}),e.jsxs(j,{value:"registration",className:"flex flex-col gap-4 mt-0",children:[e.jsx(y,{filterLayout:I,values:r.filters,onChange:d}),e.jsx(N,{title:"조회내용",columns:C,data:((x=r.tables)==null?void 0:x.managerTable)||[]})]})]})]})):null}export{ne as default};
//# sourceMappingURL=page-BK_1ynur.js.map
