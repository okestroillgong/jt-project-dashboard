import{j as e,r as n,W as k,U as S,B as j}from"./index-u5m4l9UG.js";import{C as T}from"./checkbox-DnKtZFHZ.js";import{p as P}from"./popup-bus-D6rWwgNZ.js";import{T as w,a as y,b as x,c as h,d as I,e as r}from"./table-u1qDuHlO.js";import"./index-DXJMQJtd.js";function O(){const a=S(),p=a.get("openerTabId"),m=a.get("source"),o=a.get("options"),d=a.get("selected"),b=a.get("title")||"선택",[f,g]=n.useState([]),[c,i]=n.useState([]);n.useEffect(()=>{if(o)try{const s=JSON.parse(decodeURIComponent(o));g(s)}catch(s){console.error("Failed to parse options",s)}if(d)try{const s=JSON.parse(decodeURIComponent(d));Array.isArray(s)&&i(s)}catch(s){console.error("Failed to parse selected values",s)}},[o,d]);const u=(s,t)=>{i(t?l=>[...l,s]:l=>l.filter(N=>N!==s))},C=()=>{p&&m&&(P({targetTabId:p,source:m,payload:c}),window.close())},v=()=>{window.close()};return e.jsxs("div",{className:"flex flex-col h-full bg-white p-6",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:b}),e.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md mb-4",children:e.jsxs(w,{children:[e.jsx(y,{children:e.jsxs(x,{children:[e.jsx(h,{className:"w-[50px] text-center",children:"선택"}),e.jsx(h,{className:"text-center",children:"상태"}),e.jsx(h,{className:"text-center",children:"비고"})]})}),e.jsx(I,{children:f.length===0?e.jsx(x,{children:e.jsx(r,{colSpan:3,className:"text-center h-24 text-muted-foreground",children:"항목이 없습니다."})}):f.map(s=>e.jsxs(x,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>{const t=c.includes(s.value);u(s.value,!t)},children:[e.jsx(r,{className:"text-center p-2",onClick:t=>t.stopPropagation(),children:e.jsx("div",{className:"flex justify-center",children:e.jsx(T,{id:`opt-${s.value}`,checked:c.includes(s.value),onCheckedChange:t=>u(s.value,t)})})}),e.jsx(r,{className:"text-center p-2",children:e.jsx("label",{htmlFor:`opt-${s.value}`,className:"cursor-pointer w-full h-full block",onClick:t=>{t.stopPropagation();const l=c.includes(s.value);u(s.value,!l)},children:s.label})}),e.jsx(r,{className:"text-center p-2 text-muted-foreground"})]},s.value))})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{variant:"outline",onClick:v,children:"취소"}),e.jsx(j,{onClick:C,children:"확인"})]})]})}function U(){return e.jsx(n.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(O,{})})}export{U as default};
//# sourceMappingURL=page-Bqf7juij.js.map
