{"version":3,"file":"page-DBmYY8d_.js","sources":["../../src/pages/popup/send-sms/page.tsx"],"sourcesContent":["\n\nimport { useState, Suspense, useCallback } from \"react\";\nimport { PopupRightActions, PopupAction } from \"@/components/app/PopupRightActions\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { DataTable } from \"@/components/app/DataTable\";\nimport { ColumnDef } from \"@tanstack/react-table\";\nimport { FilterContainer } from \"@/components/filters/FilterContainer\";\nimport { FilterLayout } from \"@/components/filters/types\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Label } from \"@/components/ui/label\";\n\n// Type definitions\ntype SmsTemplate = {\n  id: number;\n  code: string;\n  name: string;\n  content: string;\n  value: string;\n};\n\n// Mock Data\nconst mockTemplates: SmsTemplate[] = [\n  { id: 1, code: \"SMS001\", name: \"채무조정안내\", content: \"고객님의 채무조정이 승인되었습니다.\", value: \"내용값1\" },\n  { id: 2, code: \"SMS002\", name: \"상환예정안내\", content: \"금월 상환 예정일은 25일입니다.\", value: \"내용값2\" },\n  { id: 3, code: \"SMS003\", name: \"미납안내\", content: \"현재 미납된 금액이 있습니다.\", value: \"내용값3\" },\n  { id: 4, code: \"SMS004\", name: \"서류제출요청\", content: \"필요 서류를 제출해주시기 바랍니다.\", value: \"내용값4\" },\n  { id: 5, code: \"SMS005\", name: \"완납안내\", content: \"대출금이 전액 상환되었습니다.\", value: \"내용값5\" },\n];\n\nconst columns: ColumnDef<SmsTemplate>[] = [\n  { accessorKey: \"id\", header: \"순번\" },\n  { accessorKey: \"code\", header: \"코드\" },\n  { accessorKey: \"name\", header: \"메시지명\" },\n  { accessorKey: \"content\", header: \"알림톡/SMS메시지내용\" },\n  { accessorKey: \"value\", header: \"내용값\" },\n];\n\nfunction SendSmsPopupContent() {\n  const [filters, setFilters] = useState<Record<string, any>>({});\n\n  const handleFilterChange = useCallback((name: string, value: any) => {\n    setFilters((prev) => ({ ...prev, [name]: value }));\n  }, []);\n\n  const popupActions: PopupAction[] = [\n    { id: \"confirm\", text: \"확인\", variant: \"secondary\" },\n    { id: \"reset\", text: \"초기화\", variant: \"secondary\", onClick: () => window.location.reload() },\n    { id: \"close\", text: \"닫기\", variant: \"secondary\", onClick: () => window.close() },\n  ];\n\n  const filterLayout: FilterLayout = [\n    {\n        type: \"grid\",\n        columns: 2,\n        filters: [\n            { name: \"receiverName\", type: \"text\", label: \"수신자명\" },\n            { name: \"senderName\", type: \"text\", label: \"발신자명\" },\n            { name: \"receiverNumber\", type: \"phone-number\", label: \"수신번호\" },\n            { name: \"senderNumber\", type: \"phone-number\", label: \"발신번호\" },\n            { \n                name: \"template\", \n                type: \"long-search\", \n                label: \"템플릿\", \n                onButtonClick: () => console.log(\"Template search clicked\") \n            },\n            { name: \"rejectMsg\", type: \"checkbox\", label: \"수신거부문자 포함\" }\n        ]\n    },\n    [\n        {\n            name: \"messageContent\",\n            type: \"custom\",\n            className: \"w-full\",\n            render: () => <Textarea className=\"h-40 bg-white resize-none w-full\" placeholder=\"내용을 입력하세요\" />\n        }\n    ],\n    {\n        type: \"grid\",\n        columns: 2,\n        filters: [\n            {\n                name: \"noticeType\",\n                type: \"select\",\n                label: \"안내유형\",\n                options: [\n                    { value: \"dokchok\", label: \"독촉\" },\n                    { value: \"info\", label: \"안내\" }\n                ]\n            },\n            {\n                name: \"sendReason\",\n                type: \"select\",\n                label: \"발송사유\",\n                options: [\n                    { value: \"select\", label: \"선택\" },\n                    { value: \"reason1\", label: \"사유1\" }\n                ]\n            },\n            { name: \"reserveDate\", type: \"date\", label: \"예약일시\", popoverSide: \"top\" },\n            {\n                name: \"reserveOption\",\n                type: \"custom\",\n                render: () => (\n                     <div className=\"flex items-center gap-2 w-full\">\n                        <Input className=\"h-9 bg-white w-32\" disabled />\n                        <div className=\"flex items-center gap-1 ml-2\">\n                            <Checkbox id=\"reserve\" className=\"bg-white\" />\n                            <Label htmlFor=\"reserve\" className=\"text-gray-600 cursor-pointer font-normal whitespace-nowrap\">예약</Label>\n                        </div>\n                    </div>\n                )\n            }\n        ]\n    }\n  ];\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-50 overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center p-4 bg-white border-b shrink-0\">\n        <h2 className=\"text-xl font-bold\">알림톡/SMS</h2>\n        <PopupRightActions actions={popupActions} />\n      </div>\n      \n      {/* Content Area */}\n      <div className=\"flex-1 flex flex-col gap-4 p-4 overflow-hidden\">\n        {/* Instruction */}\n        <div className=\"shrink-0\">\n            <p className=\"text-sm text-gray-600\">템플릿 선택 후 확인 누르면 알림톡/SMS가 완성됩니다</p>\n        </div>\n\n        {/* Main Content Split */}\n        <div className=\"flex gap-4 h-[400px] shrink-0\">\n            {/* Left Column: Preview & Actions */}\n            <div className=\"w-[300px] flex flex-col gap-2\">\n            {/* 통합된 입력 영역 */}\n            <div className=\"flex-1 flex flex-col border rounded-md bg-white overflow-hidden\">\n                <Textarea \n                    className=\"flex-1 w-full resize-none border-none focus-visible:ring-0 text-sm p-3 bg-white\" \n                    placeholder=\"메시지 내용이 여기에 표시됩니다.\"\n                />\n                <div className=\"h-10 flex items-center gap-2 px-3 border-t bg-gray-50/50\">\n                    <span className=\"text-sm text-right min-w-[40px]\">0</span>\n                    <span className=\"text-sm text-gray-500\">byte</span>\n                    <div className=\"flex-1 text-right font-bold text-sm text-gray-700\">SMS</div>\n                </div>\n            </div>\n            <div className=\"grid grid-cols-2 gap-2\">\n                <Button variant=\"secondary\" className=\"h-[35px] cursor-pointer rounded-2xl\">\n                    알림톡/SMS전송\n                </Button>\n                <Button variant=\"secondary\" className=\"h-[35px] cursor-pointer rounded-2xl\">\n                    재입력\n                </Button>\n            </div>\n            </div>\n\n            {/* Right Column: Form Fields */}\n            <div className=\"flex-1 overflow-y-auto\">\n                <FilterContainer\n                    filterLayout={filterLayout}\n                    values={filters}\n                    onChange={handleFilterChange}\n                />\n            </div>\n        </div>\n        \n        {/* Bottom Table */}\n        <div className=\"flex-1 overflow-auto\">\n            <DataTable\n                columns={columns}\n                data={mockTemplates}\n                hidePagination\n                hideToolbar\n            />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function SendSmsPopupPage() {\n    return (\n        <Suspense fallback={<div>Loading...</div>}>\n            <SendSmsPopupContent />\n        </Suspense>\n    )\n}\n"],"names":["mockTemplates","columns","SendSmsPopupContent","filters","setFilters","useState","handleFilterChange","useCallback","name","value","prev","popupActions","filterLayout","jsx","Textarea","jsxs","Input","Checkbox","Label","PopupRightActions","Button","FilterContainer","DataTable","SendSmsPopupPage","Suspense"],"mappings":"4fAwBA,MAAMA,EAA+B,CACnC,CAAE,GAAI,EAAG,KAAM,SAAU,KAAM,SAAU,QAAS,sBAAuB,MAAO,MAAA,EAChF,CAAE,GAAI,EAAG,KAAM,SAAU,KAAM,SAAU,QAAS,qBAAsB,MAAO,MAAA,EAC/E,CAAE,GAAI,EAAG,KAAM,SAAU,KAAM,OAAQ,QAAS,mBAAoB,MAAO,MAAA,EAC3E,CAAE,GAAI,EAAG,KAAM,SAAU,KAAM,SAAU,QAAS,sBAAuB,MAAO,MAAA,EAChF,CAAE,GAAI,EAAG,KAAM,SAAU,KAAM,OAAQ,QAAS,mBAAoB,MAAO,MAAA,CAC7E,EAEMC,EAAoC,CACxC,CAAE,YAAa,KAAM,OAAQ,IAAA,EAC7B,CAAE,YAAa,OAAQ,OAAQ,IAAA,EAC/B,CAAE,YAAa,OAAQ,OAAQ,MAAA,EAC/B,CAAE,YAAa,UAAW,OAAQ,cAAA,EAClC,CAAE,YAAa,QAAS,OAAQ,KAAA,CAClC,EAEA,SAASC,GAAsB,CAC7B,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAA8B,CAAA,CAAE,EAExDC,EAAqBC,EAAAA,YAAY,CAACC,EAAcC,IAAe,CACnEL,EAAYM,IAAU,CAAE,GAAGA,EAAM,CAACF,CAAI,EAAGC,CAAA,EAAQ,CACnD,EAAG,CAAA,CAAE,EAECE,EAA8B,CAClC,CAAE,GAAI,UAAW,KAAM,KAAM,QAAS,WAAA,EACtC,CAAE,GAAI,QAAS,KAAM,MAAO,QAAS,YAAa,QAAS,IAAM,OAAO,SAAS,OAAA,CAAO,EACxF,CAAE,GAAI,QAAS,KAAM,KAAM,QAAS,YAAa,QAAS,IAAM,OAAO,MAAA,CAAM,CAAE,EAG3EC,EAA6B,CACjC,CACI,KAAM,OACN,QAAS,EACT,QAAS,CACL,CAAE,KAAM,eAAgB,KAAM,OAAQ,MAAO,MAAA,EAC7C,CAAE,KAAM,aAAc,KAAM,OAAQ,MAAO,MAAA,EAC3C,CAAE,KAAM,iBAAkB,KAAM,eAAgB,MAAO,MAAA,EACvD,CAAE,KAAM,eAAgB,KAAM,eAAgB,MAAO,MAAA,EACrD,CACI,KAAM,WACN,KAAM,cACN,MAAO,MACP,cAAe,IAAM,QAAQ,IAAI,yBAAyB,CAAA,EAE9D,CAAE,KAAM,YAAa,KAAM,WAAY,MAAO,WAAA,CAAY,CAC9D,EAEJ,CACI,CACI,KAAM,iBACN,KAAM,SACN,UAAW,SACX,OAAQ,IAAMC,EAAAA,IAACC,GAAS,UAAU,mCAAmC,YAAY,WAAA,CAAY,CAAA,CACjG,EAEJ,CACI,KAAM,OACN,QAAS,EACT,QAAS,CACL,CACI,KAAM,aACN,KAAM,SACN,MAAO,OACP,QAAS,CACL,CAAE,MAAO,UAAW,MAAO,IAAA,EAC3B,CAAE,MAAO,OAAQ,MAAO,IAAA,CAAK,CACjC,EAEJ,CACI,KAAM,aACN,KAAM,SACN,MAAO,OACP,QAAS,CACL,CAAE,MAAO,SAAU,MAAO,IAAA,EAC1B,CAAE,MAAO,UAAW,MAAO,KAAA,CAAM,CACrC,EAEJ,CAAE,KAAM,cAAe,KAAM,OAAQ,MAAO,OAAQ,YAAa,KAAA,EACjE,CACI,KAAM,gBACN,KAAM,SACN,OAAQ,IACHC,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACZ,SAAA,CAAAF,EAAAA,IAACG,EAAA,CAAM,UAAU,oBAAoB,SAAQ,GAAC,EAC9CD,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACX,SAAA,CAAAF,EAAAA,IAACI,EAAA,CAAS,GAAG,UAAU,UAAU,WAAW,QAC3CC,EAAA,CAAM,QAAQ,UAAU,UAAU,6DAA6D,SAAA,IAAA,CAAE,CAAA,CAAA,CACtG,CAAA,CAAA,CACJ,CAAA,CAER,CACJ,CACJ,EAGF,OACEH,EAAAA,KAAC,MAAA,CAAI,UAAU,oDAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mEACb,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAU,oBAAoB,SAAA,UAAO,EACzCA,EAAAA,IAACM,EAAA,CAAkB,QAASR,CAAA,CAAc,CAAA,EAC5C,EAGAI,EAAAA,KAAC,MAAA,CAAI,UAAU,iDAEb,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAI,UAAU,WACX,SAAAA,EAAAA,IAAC,KAAE,UAAU,wBAAwB,0CAA8B,CAAA,CACvE,EAGAE,EAAAA,KAAC,MAAA,CAAI,UAAU,gCAEX,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,gCAEf,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACX,SAAA,CAAAF,EAAAA,IAACC,EAAA,CACG,UAAU,kFACV,YAAY,oBAAA,CAAA,EAEhBC,EAAAA,KAAC,MAAA,CAAI,UAAU,2DACX,SAAA,CAAAF,EAAAA,IAAC,OAAA,CAAK,UAAU,kCAAkC,SAAA,IAAC,EACnDA,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,OAAI,EAC5CA,EAAAA,IAAC,MAAA,CAAI,UAAU,oDAAoD,SAAA,KAAA,CAAG,CAAA,CAAA,CAC1E,CAAA,EACJ,EACAE,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACX,SAAA,CAAAF,MAACO,EAAA,CAAO,QAAQ,YAAY,UAAU,sCAAsC,SAAA,YAE5E,QACCA,EAAA,CAAO,QAAQ,YAAY,UAAU,sCAAsC,SAAA,KAAA,CAE5E,CAAA,CAAA,CACJ,CAAA,EACA,EAGAP,EAAAA,IAAC,MAAA,CAAI,UAAU,yBACX,SAAAA,EAAAA,IAACQ,EAAA,CACG,aAAAT,EACA,OAAQT,EACR,SAAUG,CAAA,CAAA,CACd,CACJ,CAAA,EACJ,EAGAO,EAAAA,IAAC,MAAA,CAAI,UAAU,uBACX,SAAAA,EAAAA,IAACS,EAAA,CACG,QAAArB,EACA,KAAMD,EACN,eAAc,GACd,YAAW,EAAA,CAAA,CACf,CACJ,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,CAEA,SAAwBuB,GAAmB,CACvC,OACIV,EAAAA,IAACW,EAAAA,UAAS,SAAUX,EAAAA,IAAC,OAAI,SAAA,YAAA,CAAU,EAC/B,SAAAA,EAAAA,IAACX,EAAA,CAAA,CAAoB,CAAA,CACzB,CAER"}