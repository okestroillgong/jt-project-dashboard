import{d as R,e as A,r as s,j as e,B as m}from"./index-u5m4l9UG.js";import{l as S}from"./popup-bus-D6rWwgNZ.js";import{T as v,B as k,a as P,b as i,c as d,d as _}from"./title-icon-0QYw6STC.js";import{R as w}from"./RightActions-6AZ-6HAI.js";import{D as p}from"./DataTable-CuXBXv1d.js";import{F as y}from"./FilterContainer-Aoqyav-7.js";import{C as b}from"./checkbox-DnKtZFHZ.js";import"./table-u1qDuHlO.js";import"./format-Bs4upCOt.js";import"./select-CUHv8fEa.js";import"./Combination-DqnN4WXn.js";import"./index-DXJMQJtd.js";import"./index-Qa0YjGk7.js";import"./textarea-CIbYvi8i.js";const M=[{id:1,accountNo:"123-456-7890",applicantName:"홍길동",bondAmount:5e7,productName:"신용대출",loanNewDate:"20230101",loanMaturityDate:"20250101",loanAmount:5e7},{id:2,accountNo:"987-654-3210",applicantName:"이순신",bondAmount:3e7,productName:"주택담보대출",loanNewDate:"20220515",loanMaturityDate:"20320515",loanAmount:15e7}],B=[{accessorKey:"id",header:"순번"},{accessorKey:"accountNo",header:"계좌번호"},{accessorKey:"applicantName",header:"신청인명"},{accessorKey:"bondAmount",header:"채권금액"},{accessorKey:"productName",header:"상품명"},{accessorKey:"loanNewDate",header:"대출신규일자"},{accessorKey:"loanMaturityDate",header:"대출만기일자"},{accessorKey:"loanAmount",header:"대출금액"}],K=[{id:"select",header:({table:a})=>e.jsx(b,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:l=>a.toggleAllPageRowsSelected(!!l),"aria-label":"Select all"}),cell:({row:a})=>e.jsx(b,{checked:a.getIsSelected(),onCheckedChange:l=>a.toggleSelected(!!l),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"paymentRound",header:"납입회차"},{accessorKey:"paymentAmount",header:"납입금액"},{accessorKey:"actualPaymentAmount",header:"실제납입금액"},{accessorKey:"transactionDate",header:"거래일자"}];function W(){const a=R(),{currentState:l,updateFilters:r,clearState:h}=A(),[Y,x]=s.useState(null),[g,N]=s.useState([]);s.useEffect(()=>S(t=>{if(t.targetTabId!==a||t.source!=="customer-search")return;const c=t.payload;c.sourceFilter==="customerNumber"&&r(a,{customerNumber:c.centralCustomerNumber,rrn:c.realNameNumber,debtorName:c.customerName})}),[a,r]);const f=[{type:"grid",columns:3,filters:[{name:"targetCustomerNumber",type:"text",label:"대상자고객번호",placeholder:"06800____"},{name:"accountNumber",type:"text",label:"계좌번호"},{name:"bondAdjustmentType",type:"select",label:"채권조정구분",options:[{value:"debt-adjustment",label:"채무조정"},{value:"other",label:"기타"}],defaultValue:"debt-adjustment"}]}],j=[{type:"grid",columns:4,filters:[{name:"customerNumber",type:"long-search",label:"고객번호",onButtonClick:(n,t)=>{t==null||t.preventDefault(),t==null||t.stopPropagation();const c=n||"";window.open(`/popup/customer-search?customerNumber=${c}&openerTabId=${a}&sourceFilter=customerNumber`,"CustomerSearch","width=1600,height=800")}},{name:"debtorName",type:"text",label:"채무자명",readonly:!0},{name:"applicantName_ledger",type:"long-search",label:"신청자명",readonly:!0,onButtonClick:(n,t)=>{t==null||t.preventDefault(),console.log("Applicant Search Clicked")}},{name:"rrn",type:"text",label:"주민등록번호",readonly:!0},{name:"accountNo_ledger",type:"text",label:"계좌번호",readonly:!0},{name:"loanBalance",type:"number",label:"대출잔액",readonly:!0},{name:"spacer_2_1",type:"spacer"},{name:"spacer_2_2",type:"spacer"},{name:"repaymentCapabilityScore",type:"text",label:"상환능력평가점수"},{name:"debtAdjustmentType_ledger",type:"text",label:"채무조정유형"},{name:"debtAdjExecutionDate",type:"date",label:"채무조정실행일자",popoverSide:"top"},{name:"spacer_3_1",type:"spacer"},{name:"basicReductionRate",type:"text",label:"기본 감면율"},{name:"specialReductionRate",type:"text",label:"특별 감면율"},{name:"sincereRepaymentReductionRate",type:"text",label:"성실상환 감면율"},{name:"finalReductionRate",type:"text",label:"최종 감면율"},{name:"monthlyPaymentDate",type:"text",label:"월 납입일자"},{name:"repaymentPeriodMonths",type:"number",label:"상환기간(월)"},{name:"initialPaymentAmount",type:"number",label:"최초 불입금액"},{name:"monthlyPaymentAmount",type:"number",label:"월 불입금액"},{name:"repaymentStartDate",type:"date",label:"변제시작일",popoverSide:"top"},{name:"repaymentEndDate",type:"date",label:"변제종료일",popoverSide:"top"},{name:"cancellationDate",type:"date",label:"취소일자",popoverSide:"top"},{name:"nextPaymentDate",type:"date",label:"차기납입일",popoverSide:"top"},{name:"receivingBank",type:"text",label:"수납은행"},{name:"receivingAccount",type:"text",label:"수납계좌"},{name:"paymentRate",type:"text",label:"납입율"},{name:"paymentTotal",type:"number",label:"납입합계"},{name:"specialNotes",type:"text",label:"특이사항",colSpan:3},{name:"spacer_8_1",type:"spacer"}]}],u=s.useCallback((n,t)=>{r(a,{[n]:t})},[a,r]),C=n=>{x(n)},D=n=>{const t={customerNumber:"0680012345",debtorName:n.applicantName,applicantName_ledger:n.applicantName,rrn:"900101-1234567",accountNo_ledger:n.accountNo,loanBalance:n.loanAmount,repaymentCapabilityScore:"850",debtAdjustmentType_ledger:"개인회생",debtAdjExecutionDate:"2024-03-15",basicReductionRate:"30%",specialReductionRate:"10%",sincereRepaymentReductionRate:"5%",finalReductionRate:"45%",monthlyPaymentDate:"매월 15일",repaymentPeriodMonths:60,initialPaymentAmount:5e5,monthlyPaymentAmount:45e4,repaymentStartDate:"2024-04-15",repaymentEndDate:"2029-03-15",cancellationDate:"",nextPaymentDate:"2024-05-15",receivingBank:"신한은행",receivingAccount:"110-123-456789",paymentRate:"98%",paymentTotal:27e6,specialNotes:"성실 상환 중"};r(a,t),N([{paymentRound:1,paymentAmount:45e4,actualPaymentAmount:45e4,transactionDate:"20240415"},{paymentRound:2,paymentAmount:45e4,actualPaymentAmount:45e4,transactionDate:"20240515"}])},o=n=>()=>{console.log(`${n} clicked`)};return l?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:v,alt:"타이틀 아이콘",width:40,height:40}),e.jsx("h2",{className:"text-lg font-semibold",children:"채무조정관리"})]}),e.jsx(k,{children:e.jsxs(P,{children:[e.jsx(i,{children:"홈"}),e.jsx(d,{}),e.jsx(i,{children:"여신사후"}),e.jsx(d,{}),e.jsx(i,{children:"채권조정"}),e.jsx(d,{}),e.jsx(i,{children:e.jsx(_,{children:"채무조정관리"})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(w,{actions:[{id:"doc-reception",onClick:o("DocReception")},{id:"doc-search",onClick:o("DocSearch")},{id:"doc-scan",onClick:o("DocScan")},{id:"register",onClick:o("Register")},{id:"save",onClick:o("Save")},{id:"search",onClick:o("Search")},{id:"data-reset",onClick:()=>h(a)}]})}),e.jsx(y,{filterLayout:f,values:l.filters,onChange:u}),e.jsx(p,{title:"당행",columns:B,data:M,amountColumns:["bondAmount","loanAmount"],dateColumnConfig:{loanNewDate:"YYYYMMDD",loanMaturityDate:"YYYYMMDD"},onRowClick:C,onRowDoubleClick:D}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"font-semibold",children:"채무조정 원장정보"}),e.jsx(y,{filterLayout:j,values:l.filters,onChange:u})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:o("AddRow"),children:"행추가"}),e.jsx(m,{variant:"outline",size:"sm",onClick:o("ModificationHistory"),children:"수정내역"}),e.jsx(m,{variant:"outline",size:"sm",onClick:o("TransactionHistory"),children:"거래내역"})]})]}),e.jsx(p,{title:"납입내역",columns:K,data:g,amountColumns:["paymentAmount","actualPaymentAmount"],dateColumnConfig:{transactionDate:"YYYYMMDD"}})]})]}):null}export{W as default};
//# sourceMappingURL=page-D82BLYg8.js.map
