import{d as P,e as F,r as p,j as e,B as H}from"./index-rFDfNqWc.js";import{l as E}from"./popup-bus-D6rWwgNZ.js";import{T as K,B as M,a as z,b,c as y,d as V}from"./title-icon-CvBBuwD4.js";import{C as _,a as U,b as G,c as J}from"./CustomTabs-DoOFos06.js";import{R as O}from"./RightActions-xaMJTuvG.js";import{D as j}from"./DataTable-Dvqiat0m.js";import{F as f}from"./FilterContainer-DiDM2qk2.js";import"./index-BVYKgh-g.js";import"./Combination-48IUafib.js";import"./table-Crt9sqOn.js";import"./format-Bs4upCOt.js";import"./select-zoLzkzr2.js";import"./index-C-hN5_st.js";import"./checkbox-NKdEwGcU.js";import"./textarea-BhWVCVZg.js";const r=(l,o)=>({accessorKey:l,header:o}),Q=[r("seq","순번"),r("legalType","법무구분"),r("customerNo","고객번호"),r("customerName","고객명"),r("realNameNo","실명번호"),r("competentCourt","관할법원"),r("caseNumber","사건번호"),r("caseName","사건명"),r("claimAmount","청구금액"),r("status","법무진행")],W=[{accessorKey:"date",header:"일자"},{accessorKey:"content",header:"내용"},{accessorKey:"result",header:"결과"}],X=Array.from({length:5},(l,o)=>({seq:o+1,legalType:"지급명령",customerNo:`CUST${1e3+o}`,customerName:`고객${o+1}`,realNameNo:`800101-123456${o}`,competentCourt:"서울중앙지방법원",caseNumber:`2024차123${o}`,caseName:"대여금 반환 청구",claimAmount:15e6,status:"접수"})),Y=[{date:"2024-01-15",content:"지급명령 신청서 접수",result:"접수완료"},{date:"2024-01-20",content:"보정명령 등본 송달",result:"도달"}];function Ce(){var N,C,g;const l=P(),{currentState:o,updateFilters:c,updateTableData:x,clearState:Z}=F(),[w,D]=p.useState("payment-order"),[T,v]=p.useState(!1);p.useEffect(()=>E(t=>{if(t.targetTabId===l){if(t.source==="customer-search"){const s=t.payload;c(l,{customerSearch:{code:s.customerName,name:s.centralCustomerNumber},detailCustomerNo:{code:s.customerName,name:s.centralCustomerNumber}})}else if(t.source==="case-inquiry"){const s=t.payload;c(l,{caseNumber:{code:s.csNo,name:s.csNm},detailCaseNo:{code:s.csNo,name:s.csNm}})}else if(t.source==="branch-management"){const s=t.payload;c(l,{detailDept:{code:s.branchCode,name:s.branchName}})}}}),[l,c]);const h=p.useCallback((a,t)=>{c(l,{[a]:t})},[l,c]),L=[{type:"grid",columns:2,filters:[{name:"customerSearch",type:"search",label:"고객검색",onButtonClick:(a,t)=>{t==null||t.preventDefault(),window.open(`/popup/customer-search?openerTabId=${l}`,"CustomerSearch","width=1600,height=800")}},{name:"caseNumber",type:"search",label:"사건번호",onButtonClick:(a,t)=>{t==null||t.preventDefault();const s=(a==null?void 0:a.code)||"";window.open(`/popup/case-inquiry?caseNumber=${s}&openerTabId=${l}`,"CaseInquiry","width=1600,height=800")}}]}],S=(a=>{const t=(i,n)=>{n==null||n.preventDefault(),window.open(`/popup/customer-search?openerTabId=${l}`,"CustomerSearch","width=1600,height=800")},s=(i,n)=>{n==null||n.preventDefault();const q=(i==null?void 0:i.code)||"";window.open(`/popup/case-inquiry?caseNumber=${q}&openerTabId=${l}`,"CaseInquiry","width=1600,height=800")},R=(i,n)=>{n==null||n.preventDefault(),window.open(`/popup/branch-management?openerTabId=${l}`,"BranchManagement","width=1600,height=800")};let d=[{name:"detailCustomerNo",type:"search",label:"고객번호",onButtonClick:t},{name:"detailCustomerName",type:"text",label:"고객명"},{name:"detailRealNameNo",type:"text",label:"실명번호"},{name:"detailCourt",type:"select",label:"관할법원",options:[]},{name:"detailCaseNo",type:"search",label:"사건번호",onButtonClick:s},{name:"detailCaseName",type:"text",label:"사건명"}];if(a==="public-sale"){const i=d.findIndex(n=>n.name==="detailCourt");i!==-1&&(d[i]={...d[i],label:"공매주관사"})}let u=[{name:"detailClaimAmount",type:"number",label:"청구금액"},{name:"detailCreditor",type:"text",label:"채권자"},{name:"detailDebtor",type:"text",label:"채무자"}];a==="lawsuit"&&(u[0]={...u[0],label:"원고소가"},u[1]={...u[1],label:"원고(소송인)"},u[2]={...u[2],label:"피고(피신청인)"});let m=[{name:"detailReceiptDate",type:"date",label:"접수일자"},{name:"detailDecisionDate",type:"date",label:"결정일자"},{name:"detailCloseDate",type:"date",label:"종결/취하일자"}];return a==="auction"?(m[1]={...m[1],label:"낙찰일자"},m[2]={...m[2],label:"취하일자"},m.splice(2,0,{name:"detailPaymentDate",type:"date",label:"대금납부일자"})):a==="public-sale"&&(m[2]={...m[2],label:"취하일자"}),[{type:"grid",columns:3,filters:d},{type:"grid",columns:3,filters:u},{type:"grid",columns:a==="auction"?4:3,filters:m},{type:"grid",columns:3,filters:[{name:"detailStatus",type:"select",label:"사건상태",options:[]},{name:"detailRelCaseNo",type:"text",label:"관련사건번호"},{name:"detailResult",type:"text",label:"종국결과"}]},{type:"grid",columns:3,filters:[{name:"detailLoanAmount",type:"number",label:"고객별대출금"},{name:"detailAccountNo",type:"text",label:"계좌번호"},{name:"detailAdvanceAmount",type:"number",label:"고객별가지급금"}]},{type:"grid",columns:3,filters:[{name:"detailDept",type:"search",label:"법무관리부점",onButtonClick:R},{name:"isParentCase",type:"checkbox",label:"모사건"},{name:"isBankSued",type:"checkbox",label:"당행피소"}]}]})(w),k=[{type:"grid",columns:1,filters:[{name:"caseContent",type:"text",label:"사건내용",readonly:!0,width:"long"},{name:"summary",type:"text",label:"적요",width:"long"}]}];(C=(N=o==null?void 0:o.tables)==null?void 0:N.legalListTable)!=null&&C.length;const A=a=>{console.log(`Action: ${a}`),x(l,"legalListTable",X)},B=a=>{c(l,{detailCustomerNo:{code:a.customerNo,name:a.customerNo},detailCustomerName:a.customerName,detailRealNameNo:a.realNameNo,detailCourt:a.competentCourt,detailCaseNo:{code:a.caseNumber,name:a.caseNumber},detailCaseName:a.caseName,detailClaimAmount:a.claimAmount,detailStatus:a.status})},I=()=>{v(!0),x(l,"historyTable",Y),c(l,{caseContent:"이곳에 선택된 사건 내용이 표시됩니다."})},$=[{id:"file-upload",label:"파일첨부"},{id:"court-search",label:"법원사건조회"},{id:"register",label:"등록"},{id:"edit",label:"수정"},{id:"delete",label:"삭제"},{id:"search",label:"조회",onClick:()=>A("search")},{id:"reset",label:"초기화"}];return o?e.jsxs("div",{className:"flex flex-col gap-6 pb-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:K,alt:"타이틀 아이콘",width:40,height:40}),e.jsx("h2",{className:"text-lg font-semibold",children:"법무관리"})]}),e.jsx(M,{children:e.jsxs(z,{children:[e.jsx(b,{children:"홈"}),e.jsx(y,{}),e.jsx(b,{children:"여신사후"}),e.jsx(y,{}),e.jsx(b,{children:"법적조회"}),e.jsx(y,{}),e.jsx(b,{children:e.jsx(V,{children:"법무관리"})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(O,{actions:$})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{className:"font-semibold",children:"법무조회"}),e.jsx(f,{filterLayout:L,values:o.filters,onChange:h})]}),e.jsx(j,{title:"법무진행 목록",columns:Q,data:((g=o.tables)==null?void 0:g.legalListTable)||[],amountColumns:["claimAmount"],onRowClick:B}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{className:"font-semibold",children:"법무진행 상세"}),e.jsxs(_,{defaultValue:"payment-order",className:"w-full",onValueChange:D,children:[e.jsx(U,{children:["지급명령","보전조치(가압류)","압류 및 전부추심","소송","경매","공매"].map((a,t)=>{const s=["payment-order","preservation","seizure","lawsuit","auction","public-sale"][t];return e.jsx(G,{value:s,children:a},s)})}),["payment-order","preservation","seizure","lawsuit","auction","public-sale"].map(a=>{var t;return e.jsxs(J,{value:a,className:"flex flex-col gap-4 mt-0",children:[e.jsx(f,{filterLayout:S,values:o.filters,onChange:h}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(H,{className:"bg-gray-600 hover:bg-gray-700 text-white",onClick:I,children:"상세조회"})}),T&&e.jsxs("div",{className:"flex flex-col gap-4 mt-4 animate-in fade-in slide-in-from-top-2",children:[e.jsx("div",{className:"overflow-hidden",children:e.jsx(j,{columns:W,data:((t=o.tables)==null?void 0:t.historyTable)||[]})}),e.jsx(f,{filterLayout:k,values:o.filters,onChange:h})]})]},a)})]})]})]}):null}export{Ce as default};
//# sourceMappingURL=page-D3-DSOuU.js.map
