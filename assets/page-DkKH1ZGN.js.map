{"version":3,"file":"page-DkKH1ZGN.js","sources":["../../src/pages/dashboard/counseling/general-counseling/manager-change-history/page.tsx"],"sourcesContent":["\n\nimport { useMemo } from \"react\";\nimport { usePathname } from \"@/lib/hooks/useAppLocation\";\nimport { RightActions } from \"@/components/app/RightActions\";\nimport { FilterContainer } from \"@/components/filters/FilterContainer\";\nimport { DataTable } from \"@/components/app/DataTable\";\nimport { usePageStore } from \"@/lib/store/pageStore\";\nimport type { FilterLayout } from \"@/components/filters/types\";\nimport type { ColumnDef } from \"@tanstack/react-table\";\nimport { Breadcrumb, BreadcrumbItem, BreadcrumbLink, BreadcrumbList, BreadcrumbPage, BreadcrumbSeparator } from \"@/components/ui/breadcrumb\";\nimport TitleIcon from \"@/assets/icons/webp/title-icon.webp\";\n\n// 데이터 테이블의 타입 정의\ntype ManagerHistoryItem = {\n  id: number;\n  customerName: string;\n  customerNumber: string;\n  accountNumber: string;\n  assignmentEndDate: string;\n  changeTimestamp: string;\n  previousManager: string;\n  newManager: string;\n  changedByManager: string;\n};\n\n// DataTable 컬럼 정의\nconst columns: ColumnDef<ManagerHistoryItem>[] = [\n  { accessorKey: \"id\", header: \"순번\" },\n  { accessorKey: \"customerName\", header: \"고객명\" },\n  { accessorKey: \"customerNumber\", header: \"고객번호\" },\n  { accessorKey: \"accountNumber\", header: \"계좌번호\" },\n  { accessorKey: \"assignmentEndDate\", header: \"배정종료일자\" },\n  { accessorKey: \"changeTimestamp\", header: \"담당자변경일시\" },\n  { accessorKey: \"previousManager\", header: \"변경 전 담당자\" },\n  { accessorKey: \"newManager\", header: \"변경 후 담당자\" },\n  { accessorKey: \"changedByManager\", header: \"변경한 담당자\" },\n];\n\nexport default function ManagerChangeHistoryPage() {\n  const tabId = usePathname();\n  const { currentState, updateFilters, updateTableData } = usePageStore();\n  const pageState = currentState;\n\n  // 필터 레이아웃 정의\n  const filterLayout: FilterLayout = useMemo(() => [\n    {\n      type: \"grid\",\n      columns: 12,\n      filters: [\n        { type: \"select\", label: \"센터\", name: \"center\", colSpan: 3, options: [{value: \"C01\", label: \"강남센터\"}] },\n        { type: \"select\", label: \"팀\", name: \"team\", colSpan: 3, options: [{value: \"T01\", label: \"1팀\"}] },\n        { type: \"select\", label: \"그룹\", name: \"group\", colSpan: 3, options: [{value: \"G01\", label: \"그룹A\"}] },\n        { type: \"select\", label: \"상담원\", name: \"counselor\", colSpan: 3, options: [{value: \"CS01\", label: \"상담원1\"}] },\n      ],\n    },\n    {\n        type: \"grid\",\n        columns: 12,\n        filters: [\n          { type: \"text\", label: \"고객번호\", name: \"customerNumber\", colSpan: 4 },\n          { type: \"text\", label: \"고객명\", name: \"customerName\", colSpan: 4 },\n          { type: \"text\", label: \"계좌번호\", name: \"accountNumber\", colSpan: 4 },\n        ],\n    },\n    {\n        type: \"grid\",\n        columns: 12,\n        filters: [\n          { type: \"checkbox\", label: \"배정대상자\", name: \"isAssignmentTarget\", colSpan: 4 },\n          { type: \"date-range\", label: \"변경일자\", name: \"changeDate\", colSpan: 4 },\n          { type: \"date-range\", label: \"배정종료일자\", name: \"assignmentEndDate\", colSpan: 4 },\n        ],\n    },\n  ], []);\n  \n  const handleSearch = () => {\n    // 임시 데이터 생성\n    const dummyData: ManagerHistoryItem[] = Array.from({ length: 8 }, (_, i) => ({\n      id: i + 1,\n      customerName: `고객${i + 1}`,\n      customerNumber: `CUST500${i}`,\n      accountNumber: `ACCT600${i}`,\n      assignmentEndDate: \"2025-11-30\",\n      changeTimestamp: \"2024-10-31 15:30:00\",\n      previousManager: \"김담당\",\n      newManager: \"박담당\",\n      changedByManager: \"최시스템\",\n    }));\n    updateTableData(tabId, 'managerHistoryTable', dummyData);\n  };\n\n  return (\n    <div className=\"flex h-full flex-col gap-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n            <img src={TitleIcon} alt=\"타이틀 아이콘\" width={40} height={40} />\n            <h1 className=\"text-lg font-semibold\">담당자변경이력</h1>\n        </div>\n        <Breadcrumb>\n            <BreadcrumbList>\n            <BreadcrumbItem><BreadcrumbLink>상담관리</BreadcrumbLink></BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem><BreadcrumbLink>일반상담</BreadcrumbLink></BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem><BreadcrumbPage>담당자변경이력</BreadcrumbPage></BreadcrumbItem>\n            </BreadcrumbList>\n        </Breadcrumb>\n      </div>\n\n      <div className=\"flex justify-end\">\n        <RightActions\n          actions={[\n            { id: \"search\", onClick: handleSearch },\n            { id: \"excel\" },\n          ]}\n        />\n      </div>\n\n      <FilterContainer\n        filterLayout={filterLayout}\n        values={pageState?.filters || {}}\n        onChange={(name: string, value: any) => {\n          const newFilters = { ...pageState?.filters, [name]: value };\n          updateFilters(tabId, newFilters);\n        }}\n      />\n\n      <DataTable\n        title=\"조회 내용\"\n        columns={columns}\n        data={currentState?.tables?.['managerHistoryTable'] || []}\n      />\n    </div>\n  );\n}\n"],"names":["columns","ManagerChangeHistoryPage","tabId","usePathname","currentState","updateFilters","updateTableData","usePageStore","pageState","filterLayout","useMemo","handleSearch","dummyData","_","i","jsxs","jsx","TitleIcon","Breadcrumb","BreadcrumbList","BreadcrumbItem","BreadcrumbLink","BreadcrumbSeparator","BreadcrumbPage","RightActions","FilterContainer","name","value","newFilters","DataTable","_a"],"mappings":"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"}