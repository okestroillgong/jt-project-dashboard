{"version":3,"file":"page-DpoXMS_k.js","sources":["../../src/pages/dashboard/counseling/general-counseling/pds-management/page.tsx"],"sourcesContent":["\n\nimport { useMemo, useState } from \"react\";\nimport { usePathname } from \"@/lib/hooks/useAppLocation\";\nimport { RightActions } from \"@/components/app/RightActions\";\nimport { DataTable } from \"@/components/app/DataTable\";\nimport { usePageStore } from \"@/lib/store/pageStore\";\nimport { \n  ColumnDef,\n  SortingState,\n  flexRender,\n  getCoreRowModel,\n  getSortedRowModel,\n  useReactTable,\n} from \"@tanstack/react-table\";\nimport { Breadcrumb, BreadcrumbItem, BreadcrumbLink, BreadcrumbList, BreadcrumbPage, BreadcrumbSeparator } from \"@/components/ui/breadcrumb\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport TitleIcon from \"@/assets/icons/webp/title-icon.webp\";\nimport { ArrowUpDown, ArrowUp, ArrowDown } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\n// 테이블 타입 정의\ntype Representative = { id: number; name: string };\ntype Branch = { id: number; name: string };\ntype CallList = { id: number; listName: string; serviceName: string; status: \"활성\" | \"비활성\" };\n\n// 컬럼 정의\nconst representativeColumns: ColumnDef<Representative>[] = [\n  { accessorKey: \"id\", header: \"순번\" },\n  { accessorKey: \"name\", header: \"대표\" },\n];\n\nconst branchColumns: ColumnDef<Branch>[] = [\n  { accessorKey: \"id\", header: \"순번\" },\n  { accessorKey: \"name\", header: \"지점\" },\n];\n\nconst callListColumns: ColumnDef<CallList>[] = [\n  { accessorKey: \"id\", header: \"순번\" },\n  { accessorKey: \"listName\", header: \"생성리스트\" },\n  { accessorKey: \"serviceName\", header: \"아웃바운드 서비스명\" },\n  { accessorKey: \"status\", header: \"상태\" },\n];\n\n\n// 간단한 테이블을 위한 재사용 컴포넌트\nfunction SimpleSortableTable<TData, TValue>({ title, columns, data }: { title: string; columns: ColumnDef<TData, TValue>[]; data: TData[] }) {\n    const [sorting, setSorting] = useState<SortingState>([]);\n  \n    const table = useReactTable({\n      data,\n      columns,\n      state: { sorting },\n      onSortingChange: setSorting,\n      getCoreRowModel: getCoreRowModel(),\n      getSortedRowModel: getSortedRowModel(),\n    });\n  \n    return (\n      <div className=\"flex flex-col gap-2\">\n        <h3 className=\"font-semibold\">{title}</h3>\n        <div className=\"rounded-lg border overflow-auto\" style={{ height: `${2.5 * (data.length + 1) + 0.1}rem`}}>\n            <Table>\n                <TableHeader className=\"sticky top-0 bg-[#f1f1f1] z-10\">\n                {table.getHeaderGroups().map(headerGroup => (\n                    <TableRow key={headerGroup.id}>\n                    {headerGroup.headers.map(header => (\n                        <TableHead key={header.id} className={cn(\"h-12 px-4\", header.index < headerGroup.headers.length - 1 ? \"border-r border-gray-300\" : \"\")}>\n                        {header.isPlaceholder ? null : (\n                            <div\n                                className=\"flex items-center cursor-pointer select-none\"\n                                onClick={header.column.getToggleSortingHandler()}\n                            >\n                                {flexRender(header.column.columnDef.header, header.getContext())}\n                                {{\n                                    asc: <ArrowUp className=\"ml-2 h-3 w-3\" />,\n                                    desc: <ArrowDown className=\"ml-2 h-3 w-3\" />,\n                                }[header.column.getIsSorted() as string] ?? \n                                (header.column.getCanSort() ? <ArrowUpDown className=\"ml-2 h-3 w-3\" /> : null)}\n                            </div>\n                        )}\n                        </TableHead>\n                    ))}\n                    </TableRow>\n                ))}\n                </TableHeader>\n                <TableBody>\n                {table.getRowModel().rows?.length ? (\n                    table.getRowModel().rows.map(row => (\n                    <TableRow key={row.id} className=\"h-10\">\n                        {row.getVisibleCells().map(cell => (\n                        <TableCell key={cell.id} className={cn(\"px-4\", cell.column.id !== row.getVisibleCells()[row.getVisibleCells().length - 1].column.id ? \"border-r border-gray-300\" : \"\")}>\n                            {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                        </TableCell>\n                        ))}\n                    </TableRow>\n                    ))\n                ) : (\n                    <TableRow>\n                    <TableCell colSpan={columns.length} className=\"h-24 text-center\">\n                        결과가 없습니다.\n                    </TableCell>\n                    </TableRow>\n                )}\n                </TableBody>\n            </Table>\n        </div>\n      </div>\n    );\n  }\n\nexport default function PdsManagementPage() {\n  const tabId = usePathname();\n  const { currentState, updateTableData } = usePageStore();\n\n  // 임시 데이터\n  const representativeData: Representative[] = useMemo(() => \n    Array.from({ length: 5 }, (_, i) => ({ id: i + 1, name: `대표 ${i + 1}` })), []);\n  \n  const branchData: Branch[] = useMemo(() => \n    Array.from({ length: 5 }, (_, i) => ({ id: i + 1, name: `지점 ${i + 1}` })), []);\n\n  const handleSearch = () => {\n    const dummyCallList: CallList[] = Array.from({ length: 8 }, (_, i) => ({\n      id: i + 1,\n      listName: `리스트 ${String.fromCharCode(65 + i)}`,\n      serviceName: `서비스명 ${i + 1}`,\n      status: i % 2 === 0 ? \"활성\" : \"비활성\",\n    }));\n    updateTableData(tabId, 'pdsCallListTable', dummyCallList);\n  };\n\n  return (\n    <div className=\"flex h-full flex-col gap-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n            <img src={TitleIcon} alt=\"타이틀 아이콘\" width={40} height={40} />\n            <h1 className=\"text-lg font-semibold\">PDS관리</h1>\n        </div>\n        <Breadcrumb>\n            <BreadcrumbList>\n            <BreadcrumbItem><BreadcrumbLink>상담관리</BreadcrumbLink></BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem><BreadcrumbLink>일반상담</BreadcrumbLink></BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem><BreadcrumbPage>PDS관리</BreadcrumbPage></BreadcrumbItem>\n            </BreadcrumbList>\n        </Breadcrumb>\n      </div>\n\n      <div className=\"flex justify-end\">\n        <RightActions\n          actions={[\n            { id: \"execute\" },\n            { id: \"stop\" },\n            { id: \"terminate\" },\n            { id: \"search\", onClick: handleSearch },\n            { id: \"delete\" },\n          ]}\n        />\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-3\">\n        <SimpleSortableTable title=\"대표\" columns={representativeColumns} data={representativeData} />\n        <SimpleSortableTable title=\"지점\" columns={branchColumns} data={branchData} />\n      </div>\n\n      <DataTable\n        title=\"콜리스트\"\n        columns={callListColumns}\n        data={currentState?.tables?.['pdsCallListTable'] || []}\n      />\n    </div>\n  );\n}\n"],"names":["representativeColumns","branchColumns","callListColumns","SimpleSortableTable","title","columns","data","sorting","setSorting","useState","table","useReactTable","getCoreRowModel","getSortedRowModel","jsxs","jsx","Table","TableHeader","headerGroup","TableRow","header","TableHead","cn","flexRender","ArrowUp","ArrowDown","ArrowUpDown","TableBody","_a","row","cell","TableCell","PdsManagementPage","tabId","usePathname","currentState","updateTableData","usePageStore","representativeData","useMemo","_","i","branchData","handleSearch","dummyCallList","TitleIcon","Breadcrumb","BreadcrumbList","BreadcrumbItem","BreadcrumbLink","BreadcrumbSeparator","BreadcrumbPage","RightActions","DataTable"],"mappings":"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"}