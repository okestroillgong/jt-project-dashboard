import{j as t,r as o,U as x,d as C}from"./index-u5m4l9UG.js";import{D as N}from"./DataTable-CuXBXv1d.js";import{F as D}from"./FilterContainer-Aoqyav-7.js";import{P as K}from"./PopupRightActions-BoyVaNKG.js";import{l as j,p as w}from"./popup-bus-D6rWwgNZ.js";import"./table-u1qDuHlO.js";import"./format-Bs4upCOt.js";import"./select-CUHv8fEa.js";import"./Combination-DqnN4WXn.js";import"./index-DXJMQJtd.js";import"./checkbox-DnKtZFHZ.js";import"./index-Qa0YjGk7.js";import"./textarea-CIbYvi8i.js";const u=Array.from({length:20},(n,s)=>({id:s+1,usrNm:`사용자${s+1}`,usrno:`USER${1e3+s}`,hbrNm:s%2===0?"강남지점":"본점",hbrCd:s%2===0?"B001":"H001",usrDstcd:"일반",usrRgstrnSttsCd:"등록",usrRsppDstcd:s%5===0?"Y":"N",jobClsnSttsCd:"마감",usrLginYn:"Y",lastLginDt:"2024-11-20",mthrRcppymYn:"N",dybfLginYn:"Y",ctiUseYn:"Y",extno:`123${s}`,grpExtno:`900${s}`,chngDt:"2024-10-01",lastPsswdChngDt:"2024-09-01",rgstrnDt:"2023-01-01",empno:`EMP${2e3+s}`})),R=[{accessorKey:"usrNm",header:"사용자명"},{accessorKey:"usrno",header:"사용자번호"},{accessorKey:"hbrNm",header:"부점명"},{accessorKey:"hbrCd",header:"부점코드"},{accessorKey:"usrDstcd",header:"사용자구분"},{accessorKey:"usrRgstrnSttsCd",header:"사용자등록"},{accessorKey:"usrRsppDstcd",header:"책임자여부"},{accessorKey:"jobClsnSttsCd",header:"업무마감상태"},{accessorKey:"usrLginYn",header:"사용자로그인여부"},{accessorKey:"lastLginDt",header:"최종로그인일자"},{accessorKey:"mthrRcppymYn",header:"모출납여부"},{accessorKey:"dybfLginYn",header:"천일로그인여부"},{accessorKey:"ctiUseYn",header:"CTI사용여부"},{accessorKey:"extno",header:"내선전화번호"},{accessorKey:"grpExtno",header:"그룹내선전화번호"},{accessorKey:"chngDt",header:"변경일자"},{accessorKey:"lastPsswdChngDt",header:"최종비밀번호변경일자"},{accessorKey:"rgstrnDt",header:"등록일자"},{accessorKey:"empno",header:"직원번호"}];function S(){const n=x(),s=C(),[i,d]=o.useState({}),[b,l]=o.useState([]),m=n.get("openerTabId");o.useEffect(()=>{const e={},r=n.get("usrNm"),a=n.get("usrno"),c=n.get("hbrNm"),h=n.get("hbrCd");r&&(e.usrNm=r),a&&(e.usrno=a),c?e.hbrNm={name:c,code:h||""}:h&&(e.hbrNm={name:"",code:h}),d(e),Object.keys(e).length>0&&l(u)},[n]),o.useEffect(()=>j(r=>{if(r.targetTabId===s&&r.source==="branch-management"){const a=r.payload;p("hbrNm",{code:a.branchCode,name:a.branchName})}}),[s]);const p=o.useCallback((e,r)=>{d(a=>({...a,[e]:r}))},[]),g=o.useMemo(()=>[{type:"grid",columns:2,filters:[{name:"usrNm",type:"text",label:"사용자명"},{name:"usrno",type:"text",label:"사용자번호"},{name:"hbrNm",type:"search",label:"부점명",onButtonClick:(e,r)=>{r==null||r.preventDefault();const a=(e==null?void 0:e.name)||"",c=(e==null?void 0:e.code)||"";window.open(`/popup/branch-management?branchName=${a}&branchCode=${c}&openerTabId=${s}`,"BranchManagement","width=1600,height=800")}},{name:"usrRsppDstcd",type:"select",label:"책임자여부",options:[{value:"all",label:"전체"},{value:"Y",label:"책임자"},{value:"N",label:"비책임자"}]}]}],[s]),f=[{id:"search",text:"조회",onClick:()=>{console.log("Searching with filters:",i),l(u)}},{id:"reset",text:"초기화",onClick:()=>{d({}),l([])}},{id:"close",text:"닫기",onClick:()=>window.close()}],y=e=>{m?(w({targetTabId:m,source:"user-search",payload:e}),window.close()):console.error("Opener Tab ID is missing, cannot send data.")};return t.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-gray-50 min-h-screen",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-xl font-bold",children:"사용자 검색"}),t.jsx(K,{actions:f})]}),t.jsx("div",{className:"border-t pt-4",children:t.jsx(D,{filterLayout:g,values:i,onChange:p})}),t.jsx("div",{className:"flex-grow",children:t.jsx(N,{title:"사용자 목록",columns:R,data:b,onRowDoubleClick:y,minWidth:"1800px"})})]})}function H(){return t.jsx(o.Suspense,{fallback:t.jsx("div",{children:"Loading..."}),children:t.jsx(S,{})})}export{H as default};
//# sourceMappingURL=page-ZLfrC5Ti.js.map
