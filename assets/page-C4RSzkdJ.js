import{d as x,e as g,r as d,j as a}from"./index-2Av6MLFj.js";import{l as y}from"./popup-bus-D6rWwgNZ.js";import{T as N,B as j,a as C,b as n,c as i,d as B}from"./title-icon-nFIwsV-0.js";import{L as D}from"./LeftActions-dfrmxt74.js";import{R as T}from"./RightActions-CUX54lWR.js";import{D as w}from"./DataTable-C4vt9fnC.js";import{F as $}from"./FilterContainer-Cxktb3TD.js";import"./Combination-Bip0-cB-.js";import"./index-DmPuGcMg.js";import"./table-jcuTC0ZX.js";import"./format-Bs4upCOt.js";import"./select-Duqj-Ize.js";import"./index-B6SAKWOZ.js";import"./checkbox-COTNJ_PZ.js";import"./textarea-SvLRbOEg.js";const S=Array.from({length:10},(r,t)=>({id:t+1,isRegistered:t%2===0?"Y":"N",writeOffType:`구분${t%3+1}`,selectionDate:`2023-10-${String(10+t).padStart(2,"0")}`,accountName:"일반자금대출",customerName:`고객${t+1}`,customerNumber:`CUST${3001+t}`,loanAccount:`ACC${4001+t}`})),K=[{accessorKey:"id",header:"순번"},{accessorKey:"isRegistered",header:"등록여부"},{accessorKey:"writeOffType",header:"상각구분"},{accessorKey:"selectionDate",header:"선정일자"},{accessorKey:"accountName",header:"과목명"},{accessorKey:"customerName",header:"고객명"},{accessorKey:"customerNumber",header:"고객번호"},{accessorKey:"loanAccount",header:"여신계좌"}];function _(){var m;const r=x(),{currentState:t,updateFilters:c,updateTableData:u,clearState:p}=g();d.useEffect(()=>y(e=>{if(e.targetTabId===r){if(e.source==="customer-search"){const o=e.payload;c(r,{customerNumber:o.centralCustomerNumber,accountNumber:o.realNameNumber})}else if(e.source==="branch-management"){const o=e.payload;c(r,{managementBranch:{code:o.branchName,name:o.branchCode}})}}}),[r,c]);const h=[{type:"grid",columns:3,filters:[{name:"quarter",type:"select",label:"분기",options:[{value:"q1",label:"1분기"}]},{name:"customerNumber",type:"long-search",label:"고객번호",defaultValue:"CUST3001",readonly:!0,onButtonClick:(s,e)=>{e==null||e.preventDefault(),e==null||e.stopPropagation();const o=s||"",l=(t==null?void 0:t.filters.accountNumber)||"";window.open(`/popup/customer-search?customerNumber=${o}&accountNumber=${l}&openerTabId=${r}`,"CustomerSearch","width=1600,height=800")}},{name:"accountNumber",type:"text",label:"계좌번호"},{name:"managementBranch",type:"search",label:"관리부점",readonly:!0,defaultValue:{code:"B100",name:"강남1지점"},onButtonClick:(s,e)=>{e==null||e.preventDefault(),e==null||e.stopPropagation();const o=(s==null?void 0:s.code)||"",l=(s==null?void 0:s.name)||"";window.open(`/popup/branch-management?branchCode=${o}&branchName=${l}&openerTabId=${r}`,"BranchManagement","width=1600,height=800")}},{name:"isRegistered",type:"select",label:"등록여부",options:[{value:"y",label:"Y"},{value:"n",label:"N"}]},{name:"writeOffType",type:"select",label:"상각구분",options:[{value:"type1",label:"구분1"}]}]}],b=d.useCallback((s,e)=>{c(r,{[s]:e})},[r,c]),f=()=>{console.log("Search clicked, fetching data..."),u(r,"badDebtTable",S)};return t?a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:N,alt:"타이틀 아이콘",width:40,height:40}),a.jsx("h2",{className:"text-lg font-semibold",children:"대손상각대상 관리"})]}),a.jsx(j,{children:a.jsxs(C,{children:[a.jsx(n,{children:"홈"}),a.jsx(i,{}),a.jsx(n,{children:"여신사후"}),a.jsx(i,{}),a.jsx(n,{children:"재산건전성/대손상각"}),a.jsx(i,{}),a.jsx(n,{children:a.jsx(B,{children:"대손상각대상 관리"})})]})})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(D,{actions:[{id:"terminate"}]}),a.jsx(T,{actions:[{id:"excel"},{id:"register"},{id:"search",onClick:f},{id:"data-reset",onClick:()=>p(r)},{id:"reset"}]})]}),a.jsx($,{filterLayout:h,values:t.filters,onChange:b}),a.jsx(w,{title:"조회내용",columns:K,data:((m=t.tables)==null?void 0:m.badDebtTable)||[],amountColumns:["provisionalPayment","loanBalance"],dateColumnConfig:{selectionDate:"YYYYMMDD"}})]}):null}export{_ as default};
//# sourceMappingURL=page-C4RSzkdJ.js.map
