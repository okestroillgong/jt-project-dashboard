import{j as e,I as u,R as L,z as T,H as M,d as R,U as B,r as c,B as p}from"./index-u5m4l9UG.js";import{P as E}from"./PopupRightActions-BoyVaNKG.js";import{D as F}from"./DataTable-CuXBXv1d.js";import{F as n}from"./FilterContainer-Aoqyav-7.js";import{C as N}from"./checkbox-DnKtZFHZ.js";import"./table-u1qDuHlO.js";import"./format-Bs4upCOt.js";import"./select-CUHv8fEa.js";import"./Combination-DqnN4WXn.js";import"./index-DXJMQJtd.js";import"./popup-bus-D6rWwgNZ.js";import"./index-Qa0YjGk7.js";import"./textarea-CIbYvi8i.js";function $({}){return e.jsx("div",{className:"rounded-md border overflow-x-auto w-full",children:e.jsxs("table",{className:"w-full text-sm min-w-[1200px]",children:[e.jsxs("thead",{className:"bg-gray-100 text-gray-700",children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"h-10 px-4 text-center font-medium border-r whitespace-nowrap w-[150px]",rowSpan:2,children:"대출명"}),e.jsx("th",{className:"h-10 px-4 text-center font-medium border-r whitespace-nowrap w-[150px]",rowSpan:2,children:"계좌번호"}),e.jsx("th",{className:"h-10 px-4 text-center font-medium border-r whitespace-nowrap w-[100px]",children:"조정"}),e.jsx("th",{className:"h-10 px-4 text-center font-medium border-r whitespace-nowrap",children:"원금"}),e.jsx("th",{className:"h-10 px-4 text-center font-medium border-r whitespace-nowrap",children:"비용"}),e.jsx("th",{className:"h-10 px-4 text-center font-medium border-r whitespace-nowrap",children:"이자"}),e.jsx("th",{className:"h-10 px-4 text-center font-medium border-r whitespace-nowrap",children:"연체이자"}),e.jsx("th",{className:"h-10 px-4 text-center font-medium border-r whitespace-nowrap",children:"합계"}),e.jsx("th",{className:"h-10 px-4 text-center font-medium whitespace-nowrap",children:"이율"})]}),e.jsx("tr",{className:"border-b"})]}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 border-r align-middle text-center bg-white",rowSpan:2,children:e.jsx(u,{className:"h-8 w-full px-2 text-center",readOnly:!0,value:"일반자금대출"})}),e.jsx("td",{className:"p-2 border-r align-middle text-center bg-white",rowSpan:2,children:e.jsx(u,{className:"h-8 w-full px-2 text-center",readOnly:!0,value:"123-456-7890"})}),e.jsx("td",{className:"p-2 border-r text-center bg-gray-50 font-medium whitespace-nowrap",children:"전"}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2",children:e.jsx(a,{})})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 border-r text-center bg-gray-50 font-medium whitespace-nowrap",children:"후"}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2 border-r",children:e.jsx(a,{})}),e.jsx("td",{className:"p-2",children:e.jsx(a,{})})]})]})]})})}function a({value:b,onChange:o}){const[d,y]=L.useState("");return e.jsx(u,{className:"h-8 w-full text-right px-2",value:d,onChange:g=>{const m=g.target.value,x=T(m);/^\d*$/.test(x)&&y(M(x))}})}const K=Array.from({length:5},(b,o)=>({id:o+1,sequence:o+1,applicationType:o%2===0?"개인회생":"신용회복",progressStatus:"접수",accountNo:`123-456-7890${o}`,loanName:"일반자금대출",completionDate:"2024-01-01"}));function ee(){R();const o=B().get("openerTabId"),[d,y]=c.useState(K),[g,m]=c.useState(null),[x,w]=c.useState(null),[j,h]=c.useState(new Set),v=c.useCallback(t=>{h(r=>{const i=new Set(r);return i.has(t)?i.delete(t):i.add(t),i})},[]),S=c.useCallback(t=>{h(t?new Set(d.map(r=>r.id)):new Set)},[d]),[l,f]=c.useState({repaymentGraceYn:"N",gracePeriodMonths:"0",graceInterest:"",repaymentPeriodStart:"",repaymentPeriodEnd:"",repaymentPeriodMonths:"0",monthlyPaymentDay:"",gracePeriodEndDate:"",repaymentMethod:"principal",repaymentMethodOtherEnabled:!1,repaymentMethodOther:"",paymentStartDate:"",monthlyPaymentAmount:""}),s=(t,r)=>{f(i=>({...i,[t]:r}))},C=[{id:"select",header:({table:t})=>e.jsx(N,{checked:d.length>0&&j.size===d.length,onCheckedChange:r=>S(!!r),"aria-label":"Select all"}),cell:({row:t})=>e.jsx(N,{checked:j.has(t.original.id),onCheckedChange:()=>v(t.original.id),"aria-label":"Select row",onClick:r=>r.stopPropagation()})},{accessorKey:"sequence",header:"순번"},{accessorKey:"applicationType",header:"신청구분"},{accessorKey:"progressStatus",header:"진행상태"},{accessorKey:"accountNo",header:"계좌번호"},{accessorKey:"loanName",header:"대출명"},{accessorKey:"completionDate",header:"채무조정완료일자"}],P=[{type:"grid",columns:3,filters:[{name:"progressStatus",type:"select",label:"진행상태",options:[{value:"receipt",label:"접수"}]},{name:"accountNo",type:"text",label:"계좌번호",readonly:!0},{name:"loanName",type:"text",label:"대출명",readonly:!0}]},{type:"grid",columns:3,filters:[{name:"loanAmount",type:"number",label:"대출금액"},{name:"completionDate",type:"date",label:"채무조정완료일자",readonly:!0},{name:"applicationType",type:"select",label:"신청구분",options:[]}]},{type:"grid",columns:3,filters:[{name:"address",type:"text",label:"거주지 주소",colSpan:2,readonly:!0},{name:"virtualAccount",type:"text",label:"가상계좌",readonly:!0}]}],D=[{type:"grid",columns:3,filters:[{name:"internalAdjustmentType",type:"select",label:"자체채무조정구분",options:[]},{name:"requestReason",type:"select-with-input",label:"채무조정 요청사유",options:[],colSpan:2}]},{type:"grid",columns:3,filters:[{name:"baseDate",type:"date",label:"기준일"},{name:"completionDate2",type:"date",label:"채무조정완료일자"},{name:"agreementCancellationDate",type:"date",label:"합의해제일자"}]}],k=[...[{type:"grid",columns:3,filters:[{name:"defermentPrincipal",type:"checkbox",label:"상환유예(원금)"},{name:"defermentPrincipalInterest",type:"checkbox",label:"상환유예(원리금)"},{name:"reductionPrincipalLump",type:"checkbox",label:"원금 감면(일시납)"}]},{type:"grid",columns:3,filters:[{name:"reductionPrincipalInstallment",type:"checkbox",label:"원금 감면(분납)"},{name:"reductionInterest",type:"checkbox",label:"이자 감면(이자)"},{name:"reductionOverdue",type:"checkbox",label:"이자 감면(연체이자)"}]},{type:"grid",columns:2,filters:[{name:"maturityExtension",type:"checkbox",label:"만기연장"},{name:"others",type:"input-button",label:"기타",activator:!0,buttonText:"",onButtonClick:()=>{}}]}].slice(0,2),{type:"grid",columns:2,filters:[{name:"maturityExtension",type:"checkbox",label:"만기연장"},{name:"others",type:"text",label:"기타",activator:!0}]}],A=t=>{m(t.id),w(t),f({progressStatus:"receipt",accountNo:t.accountNo,loanName:t.loanName,completionDate:t.completionDate,applicationType:t.applicationType==="개인회생"?"1":"2",address:"서울시 강남구 테헤란로 123",virtualAccount:"999-999-999999",baseDate:"2024-01-01"})},I=[{id:"add",text:"행추가"},{id:"delete",text:"행삭제"},{id:"close",text:"닫기",onClick:()=>window.close()}];return e.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border-b",children:[e.jsx("h1",{className:"text-xl font-bold",children:"채무조정관리"}),e.jsx(E,{actions:I})]}),e.jsxs("div",{className:"flex-1 overflow-auto p-4 flex flex-col gap-3",children:[e.jsx("div",{className:"h-auto",children:e.jsx(F,{title:"채무조정내역",columns:C,data:d,onRowClick:A})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(p,{variant:"secondary",className:"h-[35px] w-24 cursor-pointer rounded-2xl",children:"알림톡/SMS"}),e.jsx(p,{variant:"secondary",className:"h-[35px] w-24 cursor-pointer rounded-2xl",children:"저장"}),e.jsx(p,{variant:"secondary",className:"h-[35px] w-24 cursor-pointer rounded-2xl",onClick:()=>{window.open(`/popup/debt-adjustment-e-signature?openerTabId=${o}`,"DebtAdjustmentESignature","width=1600,height=800")},children:"전자서명내역"}),e.jsx(p,{variant:"secondary",className:"h-[35px] w-24 cursor-pointer rounded-2xl",onClick:()=>{window.open(`/popup/abstract-and-payment?openerTabId=${o}`,"AbstractAndPaymentPopup","width=1600,height=800")},children:"초본 및 납부"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{className:"font-semibold text-base",children:"채무조정"}),e.jsx(n,{filterLayout:P,values:l,onChange:s}),e.jsx("div",{className:"py-2",children:e.jsx($,{})}),e.jsx(n,{filterLayout:D,values:l,onChange:s})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{className:"font-semibold text-base",children:"채무조정 사항"}),e.jsx(n,{filterLayout:k,values:l,onChange:s})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{className:"font-semibold text-base",children:"변제계획"}),e.jsx("div",{className:"bg-white rounded-lg",children:e.jsx("table",{className:"w-full border-collapse",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 bg-gray-50 px-3 py-2 font-medium text-sm w-32 align-middle",children:"상환 유예"}),e.jsx("td",{className:"border border-gray-300 px-3 py-2 align-middle",children:e.jsx(n,{filterLayout:[{type:"grid",columns:1,filters:[{name:"repaymentGraceYn",type:"select",label:"(Y/N)",options:[{value:"Y",label:"Y"},{value:"N",label:"N"}]}]},{type:"grid",columns:2,filters:[{name:"gracePeriodMonths",type:"text",label:"유예기간 (개월)"},{name:"graceInterest",type:"text",label:"유예이자 (월)"}]}],values:l,onChange:s,labelAlign:"left",noBorder:!0})}),e.jsx("td",{className:"border border-gray-300 bg-gray-50 px-3 py-2 font-medium text-sm w-32 align-middle",children:"상환방법"}),e.jsx("td",{className:"border border-gray-300 px-3 py-2 align-middle",children:e.jsx(n,{filterLayout:[{type:"grid",columns:1,filters:[{name:"repaymentMethod",type:"select",label:"",options:[{value:"principal",label:"원금"},{value:"equal",label:"원리금균등"},{value:"maturity",label:"만기일시"}]}]},{type:"grid",columns:1,filters:[{name:"repaymentMethodOther",type:"text",label:"기타",activator:!0}]}],values:l,onChange:s,labelAlign:"left",noBorder:!0})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 bg-gray-50 px-3 py-2 font-medium text-sm align-middle",children:"상환기간"}),e.jsx("td",{className:"border border-gray-300 px-3 py-2 align-middle",children:e.jsx(n,{filterLayout:[{type:"grid",columns:1,filters:[{name:"repaymentPeriod",type:"date-range",label:""}]},{type:"grid",columns:1,filters:[{name:"repaymentPeriodMonths",type:"text",label:"개월"}]}],values:l,onChange:s,labelAlign:"left",noBorder:!0})}),e.jsx("td",{className:"border border-gray-300 bg-gray-50 px-3 py-2 font-medium text-sm align-middle",children:"납입 시작일"}),e.jsx("td",{className:"border border-gray-300 px-3 py-2 align-middle",children:e.jsx(n,{filterLayout:[{type:"grid",columns:1,filters:[{name:"paymentStartDate",type:"date",label:""}]}],values:l,onChange:s,labelAlign:"left",noBorder:!0})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 bg-gray-50 px-3 py-2 font-medium text-sm align-middle",children:"매월 납입일"}),e.jsx("td",{className:"border border-gray-300 px-3 py-2 align-middle",children:e.jsx(n,{filterLayout:[{type:"grid",columns:1,filters:[{name:"monthlyPaymentDay",type:"text",label:"일"}]}],values:l,onChange:s,labelAlign:"left",noBorder:!0})}),e.jsx("td",{className:"border border-gray-300 bg-gray-50 px-3 py-2 font-medium text-sm align-middle",children:"월납입액"}),e.jsx("td",{className:"border border-gray-300 px-3 py-2 align-middle",children:e.jsx(n,{filterLayout:[{type:"grid",columns:1,filters:[{name:"monthlyPaymentAmount",type:"text",label:""}]}],values:l,onChange:s,labelAlign:"left",noBorder:!0})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 bg-gray-50 px-3 py-2 font-medium text-sm align-middle",children:"거치기간종료일"}),e.jsx("td",{className:"border border-gray-300 px-3 py-2 align-middle",colSpan:3,children:e.jsx(n,{filterLayout:[{type:"grid",columns:1,filters:[{name:"gracePeriodEndDate",type:"text",label:""}]}],values:l,onChange:s,labelAlign:"left",noBorder:!0})})]})]})})})]})]})]})}export{ee as default};
//# sourceMappingURL=page-CpuhE23i.js.map
