import{d as I,e as S,r as N,j as e}from"./index-QHbm0uwZ.js";import{l as P}from"./popup-bus-D6rWwgNZ.js";import{T as k,B as F,a as T,b as m,c as b,d as A}from"./title-icon-DtUNdef2.js";import{R as B}from"./RightActions-4zGeX4rt.js";import{D as Y}from"./DataTable-DPPyZq4b.js";import{F as f}from"./FilterContainer-BfdUAPPH.js";import"./table-DHBFbwZB.js";import"./format-Bs4upCOt.js";import"./select-BT_KHiGj.js";import"./Combination-D_iZZ0Ei.js";import"./index-nD_iR6nc.js";import"./checkbox-CQ18nY9c.js";import"./index-C7L0JNKf.js";import"./textarea---ycezja.js";const K=[{tbLimCredtRecvyId:4,acntNo:"2345665432",rqsRrn:"9802151234568",prdctNm:"프리미엄론",nwDt:"20240215",expDt:"20250215",loanAmt:15e6,acntSttsCd:"정상",custNo:"00054942704",custNm:"김OO",fdnCustNo:"0680119111"}],$=[{accessorKey:"tbLimCredtRecvyId",header:"순번"},{accessorKey:"custNo",header:"고객번호"},{accessorKey:"custNm",header:"고객명"},{accessorKey:"acntNo",header:"계좌번호"},{accessorKey:"prdctNm",header:"상품명"},{accessorKey:"acntSttsCd",header:"계좌상태"},{accessorKey:"nwDt",header:"대출신규일자"},{accessorKey:"expDt",header:"대출만기일자"},{accessorKey:"loanAmt",header:"대출금액"}];function W(){const r=I(),{currentState:d,updateFilters:n,clearState:x}=S();N.useEffect(()=>P(t=>{if(t.targetTabId!==r||t.source!=="customer-search")return;const s=t.payload,y=s.sourceFilter;if(y==="birthDate"){const l=s.realNameNumber;if(l&&l.length>=6){const p=l.substring(0,6),c=parseInt(l.charAt(7),10),o=parseInt(p.substring(0,2),10);let i;c===1||c===2?i=1900+o:c===3||c===4?i=2e3+o:i=o<30?2e3+o:1900+o;const C=p.substring(2,4),v=p.substring(4,6),R=`${i}-${C}-${v}`;n(r,{birthDate:R})}}else y==="customerNumber"&&n(r,{customerNumber:s.centralCustomerNumber,residentRegistrationNumber:s.realNameNumber,debtorName:s.customerName})}),[r,n]);const j=[{type:"grid",columns:2,filters:[{name:"birthDate",type:"long-search",label:"대상자생년월일",readonly:!0,defaultValue:"1990-01-01",onButtonClick:(a,t)=>{t==null||t.preventDefault(),t==null||t.stopPropagation();const s=a||"";window.open(`/popup/customer-search?birthDate=${s}&openerTabId=${r}&sourceFilter=birthDate`,"CustomerSearch","width=1600,height=800")}},{name:"bondAdjustmentType",type:"select",label:"채권조정구분",options:[{value:"credit-recovery",label:"신용회복"}],defaultValue:"credit-recovery",readonly:!0}]}],g=[{type:"grid",columns:3,filters:[{name:"debtorName",type:"text",label:"채무자명"},{name:"residentRegistrationNumber",type:"text",label:"주민등록번호"},{name:"customerNumber",type:"long-search",label:"고객번호",onButtonClick:(a,t)=>{t==null||t.preventDefault(),t==null||t.stopPropagation();const s=a||"";window.open(`/popup/customer-search?customerNumber=${s}&openerTabId=${r}&sourceFilter=customerNumber`,"CustomerSearch","width=1600,height=800")}},{name:"accountNumber",type:"text",label:"계좌번호"},{name:"applicantName",type:"long-search",label:"신청자명"},{name:"loanBalance",type:"number",label:"대출잔액"},{name:"applicantStatus",type:"select",label:"신청인진행상태",options:[]},{name:"accountStatusDetails",type:"text",label:"계좌진행상태내용"},{name:"applicationType",type:"text",label:"신청구분"},{name:"receiptNoticeDate",type:"date",label:"접수통지일자",popoverSide:"top"},{name:"confirmationDate",type:"date",label:"확정일",popoverSide:"top"},{name:"invalidationDate",type:"date",label:"실효/완제/합의서포기일",popoverSide:"top"},{name:"adjustedInterestRate",type:"number",label:"조정후이율"},{name:"adjustedPrincipal",type:"number",label:"조정후원금"},{name:"adjustedInterest",type:"number",label:"조정후이자"},{name:"adjustedOverdueInterest",type:"number",label:"조정후연체이자"},{name:"adjustedCosts",type:"number",label:"조정후비용"},{name:"adjustedTotal",type:"number",label:"조정후합계"},{name:"principalReduction",type:"select",label:"원금감면여부",options:[]},{name:"totalRepaymentPeriod",type:"number",label:"총상환기간"},{name:"paymentInstallment",type:"number",label:"납입회차"},{name:"overduePeriod",type:"number",label:"연체기간"},{name:"reductionMethod",type:"text",label:"감면방식"}]}],h=N.useCallback((a,t)=>{n(r,{[a]:t})},[r,n]),D=a=>{const t={debtorName:a.custNm,residentRegistrationNumber:a.rqsRrn,customerNumber:a.custNo,accountNumber:a.acntNo,applicantName:`신청인_${a.custNm}`,loanBalance:a.loanAmt,applicantStatus:"접수",accountStatusDetails:"정상 처리",applicationType:"개인회생",receiptNoticeDate:"2024-05-01",confirmationDate:"2024-05-15",invalidationDate:"2029-05-14",adjustedInterestRate:3.5,adjustedPrincipal:a.loanAmt*.9,adjustedInterest:5e5,adjustedOverdueInterest:0,adjustedCosts:1e5,adjustedTotal:a.loanAmt*.9+6e5,principalReduction:"Y",totalRepaymentPeriod:60,paymentInstallment:1,overduePeriod:0,reductionMethod:"원금 일부 감면"};n(r,t)},u=a=>()=>{console.log(`${a} clicked`)};return d?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:k,alt:"타이틀 아이콘",width:40,height:40}),e.jsx("h2",{className:"text-lg font-semibold",children:"신용회복관리"})]}),e.jsx(F,{children:e.jsxs(T,{children:[e.jsx(m,{children:"홈"}),e.jsx(b,{}),e.jsx(m,{children:"여신사후"}),e.jsx(b,{}),e.jsx(m,{children:"채권조정"}),e.jsx(b,{}),e.jsx(m,{children:e.jsx(A,{children:"신용회복관리"})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(B,{actions:[{id:"register",onClick:u("Register")},{id:"save",onClick:u("Save")},{id:"search",onClick:u("Search")},{id:"data-reset",onClick:()=>x(r)},{id:"reset"}]})}),e.jsx(f,{filterLayout:j,values:d.filters,onChange:h}),e.jsx(Y,{title:"당행",columns:$,data:K,amountColumns:["loanAmt"],dateColumnConfig:{nwDt:"YYYYMMDD",expDt:"YYYYMMDD"},onRowClick:D}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"font-semibold",children:"신용회복 원장정보"}),e.jsx(f,{filterLayout:g,values:d.filters,onChange:h})]})]}):null}export{W as default};
//# sourceMappingURL=page-C0ZCAzry.js.map
