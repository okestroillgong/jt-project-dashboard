{"version":3,"file":"page-xTUe7Hzn.js","sources":["../../src/pages/dashboard/after-loan/asset-soundness-bad-debt/soundness-data-generation/page.tsx"],"sourcesContent":["\n\nimport { useState, useMemo, useCallback, useEffect } from \"react\";\nimport { usePathname } from \"@/lib/hooks/useAppLocation\";\nimport { usePageStore } from \"@/lib/store/pageStore\";\nimport { listenForPopupMessages } from \"@/lib/popup-bus\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n} from \"@/components/ui/breadcrumb\";\nimport { CustomTabs as Tabs, CustomTabsContent as TabsContent, CustomTabsList as TabsList, CustomTabsTrigger as TabsTrigger } from \"@/components/app/CustomTabs\";\nimport { LeftActions } from \"@/components/app/LeftActions\";\nimport { RightActions, ActionType as RightActionType } from \"@/components/app/RightActions\";\nimport { DataTable } from \"@/components/app/DataTable\";\nimport { FilterContainer } from \"@/components/filters/FilterContainer\";\nimport { FilterFileUpload } from \"@/components/filters/FilterFileUpload\";\nimport type { FilterLayout } from \"@/components/filters/types\";\nimport TitleIcon from \"@/assets/icons/webp/title-icon.webp\";\nimport { ColumnDef } from \"@tanstack/react-table\";\n\n// 테이블 1: 조회 데이터 타입\ntype InquiryData = {\n  id: number;\n  soundnessMonth: string;\n  subjectName: string;\n  customerName: string;\n  customerNumber: string;\n  accountNumber: string;\n  loanAmount: number;\n};\n\n// 테이블 2: 수정내역 데이터 타입\ntype HistoryData = InquiryData & {\n  loanBalance: number;\n  loanBySubject: number;\n};\n\n// 테이블 1 목업 데이터\nconst mockInquiryData: InquiryData[] = Array.from({ length: 12 }, (_, i) => ({\n  id: i + 1,\n  soundnessMonth: \"2024-10\",\n  subjectName: \"일반자금대출\",\n  customerName: `고객${i + 1}`,\n  customerNumber: `CUST${1001 + i}`,\n  accountNumber: `ACC${2001 + i}`,\n  loanAmount: 15000000 * (i + 1),\n}));\n\n// 테이블 2 목업 데이터\nconst mockHistoryData: HistoryData[] = Array.from({ length: 8 }, (_, i) => ({\n  id: i + 1,\n  soundnessMonth: \"2024-09\",\n  subjectName: \"시설자금대출\",\n  customerName: `이력고객${i + 1}`,\n  customerNumber: `HIST${1001 + i}`,\n  accountNumber: `HIST_ACC${2001 + i}`,\n  loanAmount: 20000000 * (i + 1),\n  loanBalance: 18000000 * (i + 1),\n  loanBySubject: 5000000 * (i + 1),\n}));\n\n// 테이블 1 컬럼 정의\nconst inquiryColumns: ColumnDef<InquiryData>[] = [\n  { accessorKey: \"id\", header: \"순번\" },\n  { accessorKey: \"soundnessMonth\", header: \"건전성년월\" },\n  { accessorKey: \"subjectName\", header: \"과목명\" },\n  { accessorKey: \"customerName\", header: \"고객명\" },\n  { accessorKey: \"customerNumber\", header: \"고객번호\" },\n  { accessorKey: \"accountNumber\", header: \"계좌번호\" },\n  { accessorKey: \"loanAmount\", header: \"대출금액\" },\n];\n\n// 테이블 2 컬럼 정의\nconst historyColumns: ColumnDef<HistoryData>[] = [\n  { accessorKey: \"id\", header: \"순번\" },\n  { accessorKey: \"soundnessMonth\", header: \"건전성년월\" },\n  { accessorKey: \"subjectName\", header: \"과목명\" },\n  { accessorKey: \"customerName\", header: \"고객명\" },\n  { accessorKey: \"customerNumber\", header: \"고객번호\" },\n  { accessorKey: \"accountNumber\", header: \"계좌번호\" },\n  { accessorKey: \"loanAmount\", header: \"대출금액\" },\n  { accessorKey: \"loanBalance\", header: \"대출잔액\" },\n  { accessorKey: \"loanBySubject\", header: \"과목별대출금\" },\n];\n\nconst CLOSING_MONTH_OPTIONS = [\n  { value: \"2024-01\", label: \"2024-01\" },\n  { value: \"2024-02\", label: \"2024-02\" },\n  { value: \"2024-03\", label: \"2024-03\" },\n  { value: \"2024-04\", label: \"2024-04\" },\n  { value: \"2024-05\", label: \"2024-05\" },\n  { value: \"2024-06\", label: \"2024-06\" },\n  { value: \"2024-07\", label: \"2024-07\" },\n  { value: \"2024-08\", label: \"2024-08\" },\n  { value: \"2024-09\", label: \"2024-09\" },\n  { value: \"2024-10\", label: \"2024-10\" },\n  { value: \"2024-11\", label: \"2024-11\" },\n  { value: \"2024-12\", label: \"2024-12\" },\n];\n\nexport default function SoundnessDataGenerationPage() {\n  const tabId = usePathname();\n  const { currentState, updateFilters, updateTableData, clearState } = usePageStore();\n  const [activeTab, setActiveTab] = useState(\"inquiry\");\n  const [userPermission, setUserPermission] = useState(\"Q0001\");\n  const [tableType, setTableType] = useState<'inquiry' | 'history'>('inquiry'); // 테이블 타입 상태\n\n  useEffect(() => {\n    const cleanup = listenForPopupMessages((message) => {\n      if (message.targetTabId !== tabId) return;\n      if (message.source === 'customer-search') {\n        const customer = message.payload;\n        updateFilters(tabId, { \n          customerNumber: customer.centralCustomerNumber,\n          accountNumber: customer.accountNumber\n        });\n      } else if (message.source === 'branch-management') {\n        const branch = message.payload;\n        updateFilters(tabId, { \n          managementBranch: { \n            code: branch.branchCode,\n            name: branch.branchName\n          } \n        });\n      } else if (message.source === 'user-search') {\n        const user = message.payload;\n        updateFilters(tabId, {\n          modifierEmployeeId: {\n            code: user.usrno,\n            name: user.usrNm\n          }\n        });\n      }\n    });\n    return cleanup;\n  }, [tabId, updateFilters]);\n\n  const inquiryFilterLayout: FilterLayout = [\n    {\n      type: \"grid\",\n      columns: 4,\n      filters: [\n        { \n          name: \"closingMonth\", \n          type: \"combobox\", \n          label: \"결산월\", \n          options: CLOSING_MONTH_OPTIONS \n        },\n        { \n          name: \"customerNumber\", \n          type: \"long-search\", \n          label: \"고객번호\",\n          defaultValue: \"CUST1001\",\n          readonly: true,\n          onButtonClick: (value?: any, e?: React.MouseEvent<HTMLElement>) => {\n            e?.preventDefault();\n            e?.stopPropagation();\n            const customerNumber = value || '';\n            const accountNumber = currentState?.filters.accountNumber || '';\n            window.open(`/popup/customer-search?customerNumber=${customerNumber}&accountNumber=${accountNumber}&openerTabId=${tabId}`, 'CustomerSearch', 'width=1600,height=800');\n          }\n        },\n        { name: \"accountNumber\", type: \"text\", label: \"계좌번호\" },\n        { name: \"businessScale\", type: \"select\", label: \"기업규모\", options: [] },\n        { name: \"accountName\", type: \"select\", label: \"과목명\", options: [] },\n        { name: \"industryClassification\", type: \"select\", label: \"업종분류\", options: [] },\n        { name: \"byRegion\", type: \"text\", label: \"지역별\" },\n        { \n          name: \"managementBranch\", \n          type: \"search\", \n          label: \"관리부점\",\n          readonly: true,\n          defaultValue: { code: \"B100\", name: \"강남1지점\" },\n          onButtonClick: (value?: any, e?: React.MouseEvent<HTMLElement>) => {\n            e?.preventDefault();\n            e?.stopPropagation();\n            const branchCode = value?.code || '';\n            const branchName = value?.name || '';\n            window.open(`/popup/branch-management?branchCode=${branchCode}&branchName=${branchName}&openerTabId=${tabId}`, 'BranchManagement', 'width=1600,height=800');\n          }\n        },\n        { name: \"detailedProductName\", type: \"select\", label: \"세부 상품명\", options: [] },\n        { \n          name: \"modifierEmployeeId\", \n          type: \"search\", \n          label: \"수정자 사번\",\n          onButtonClick: (value?: any, e?: React.MouseEvent<HTMLElement>) => {\n            e?.preventDefault();\n            e?.stopPropagation();\n            const usrno = value?.code || '';\n            const usrNm = value?.name || '';\n            window.open(`/popup/user-search?usrno=${usrno}&usrNm=${usrNm}&openerTabId=${tabId}`, 'UserSearch', 'width=1600,height=800');\n          }\n        },\n        { name: \"blank1\", type: \"blank\" },\n        { name: \"blank2\", type: \"blank\" },\n      ],\n    },\n  ];\n  \n  const generationFilterLayout: FilterLayout = [\n    {\n      type: \"grid\",\n      columns: 3,\n      filters: [\n        { name: \"baseDate\", type: \"date\", label: \"기준일자\" },\n        { name: \"generationCondition\", type: \"select\", label: \"생성조건\", options: [] },\n        { name: \"blank\", type: \"blank\" },\n      ],\n    },\n  ];\n\n  const handleFilterChange = useCallback(\n    (name: string, value: any) => {\n      updateFilters(tabId, { [name]: value });\n    },\n    [tabId, updateFilters]\n  );\n\n  // \"조회\" 버튼 핸들러\n  const handleSearch = () => {\n    console.log(\"Search clicked, fetching inquiry data...\");\n    setTableType('inquiry');\n    updateTableData(tabId, \"soundnessTable\", mockInquiryData);\n  };\n\n  // \"수정내역\" 버튼 핸들러\n  const handleHistorySearch = () => {\n    console.log(\"History clicked, fetching history data...\");\n    setTableType('history');\n    updateTableData(tabId, \"soundnessTable\", mockHistoryData);\n  };\n\n  const leftActions = useMemo(() => {\n    if (activeTab === \"inquiry\") {\n      return [{ id: \"confirm\" }];\n    }\n    return [];\n  }, [activeTab]);\n\n  const rightActions = useMemo(() => {\n    if (activeTab === \"inquiry\") {\n      const baseActions: RightActionType[] = ['progressStatus', 'history', 'search', 'modify'];\n      const permissionActions: Record<string, RightActionType[]> = {\n        'Q0001': [...baseActions, 'assignConfirm', 'auditOpinion', 'auditConfirm', 'surcharge', 'excel', ],\n        'Q0002': [...baseActions, 'assignConfirm', 'excel'],\n        'Q0003': [...baseActions, 'auditOpinion', 'auditConfirm', 'excel'],\n        'Q0004': [...baseActions, 'auditOpinion', 'auditConfirm', 'excel'],\n        'Q0005': [...baseActions, 'auditOpinion', 'surcharge', 'excel'],\n        'Q0006': [...baseActions, 'excel'],\n      };\n      \n      const actionsForPermission = permissionActions[userPermission] || [];\n\n      return actionsForPermission.map(id => {\n        if (id === 'search') {\n          return { id, onClick: handleSearch };\n        }\n        if (id === 'history') {\n          return { id, onClick: handleHistorySearch };\n        }\n        if (id === 'progressStatus') {\n          return {\n            id,\n            onClick: () => {\n              const popupWidth = 1600;\n              const popupHeight = 900;\n              const left = (window.screen.width / 2) - (popupWidth / 2);\n              const top = (window.screen.height / 2) - (popupHeight / 2);\n              window.open(\n                '/popup/asset-soundness-progress',\n                'AssetSoundnessProgress',\n                `width=${popupWidth},height=${popupHeight},top=${top},left=${left}`\n              );\n            }\n          };\n        }\n        if (id === 'auditOpinion') {\n          return {\n            id,\n            onClick: () => {\n              const popupWidth = 1000;\n              const popupHeight = 800;\n              const left = (window.screen.width / 2) - (popupWidth / 2);\n              const top = (window.screen.height / 2) - (popupHeight / 2);\n              \n              const selectedMonth = currentState?.filters.closingMonth || \"\";\n              const monthOptions = encodeURIComponent(JSON.stringify(CLOSING_MONTH_OPTIONS));\n\n              window.open(\n                `/popup/soundness-audit-opinion?openerTabId=${tabId}&selectedMonth=${selectedMonth}&monthOptions=${monthOptions}`,\n                'SoundnessAuditOpinion',\n                `width=${popupWidth},height=${popupHeight},top=${top},left=${left}`\n              );\n            }\n          };\n        }\n        return { id };\n      }) as { id: RightActionType; onClick?: () => void }[];\n    }\n    if (activeTab === \"generation\") {\n      return [{ id: \"register\" }] as { id: RightActionType; onClick?: () => void }[];\n    }\n    return [];\n  }, [activeTab, userPermission, handleSearch, handleHistorySearch]);\n\n  if (!currentState) return null;\n\n  const currentColumns = tableType === 'inquiry' ? inquiryColumns : historyColumns;\n  const amountColumns = tableType === 'inquiry' \n    ? [\"loanAmount\"] \n    : [\"loanAmount\", \"loanBalance\", \"loanBySubject\"];\n\n  return (\n    <div className=\"flex flex-col gap-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <img src={TitleIcon} alt=\"타이틀 아이콘\" width={40} height={40} />\n          <h2 className=\"text-lg font-semibold\">건전성 자료 생성</h2>\n        </div>\n        <Breadcrumb>\n          <BreadcrumbList>\n            <BreadcrumbItem>홈</BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem>여신사후</BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem>자산건전성/대손상각</BreadcrumbItem>\n            <BreadcrumbSeparator />\n            <BreadcrumbItem>\n              <BreadcrumbPage>건전성 자료 생성</BreadcrumbPage>\n            </BreadcrumbItem>\n          </BreadcrumbList>\n        </Breadcrumb>\n      </div>\n\n      <div className=\"flex items-center justify-between\">\n        <LeftActions actions={leftActions} />\n        <RightActions actions={rightActions} />\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList>\n          <TabsTrigger value=\"inquiry\">조회</TabsTrigger>\n          <TabsTrigger value=\"generation\">생성</TabsTrigger>\n        </TabsList>\n        <TabsContent value=\"inquiry\">\n          <FilterContainer\n            filterLayout={inquiryFilterLayout}\n            values={currentState.filters}\n            onChange={handleFilterChange}\n          />\n        </TabsContent>\n        <TabsContent value=\"generation\">\n          <div className=\"rounded-lg border px-4 py-4\">\n            <FilterFileUpload label=\"파일 선택\" buttons={['browse']} />\n          </div>\n        </TabsContent>\n      </Tabs>\n\n      <DataTable\n        title=\"조회내용\"\n        columns={currentColumns}\n        data={currentState.tables?.['soundnessTable'] || []}\n        amountColumns={amountColumns}\n        onRowDoubleClick={(row) => {\n          const dummyRrn = \"800101-1234567\";\n          window.open(\n            `/popup/bond-legal-progress?residentRegistrationNumber=${dummyRrn}`,\n            'BondLegalProgress',\n            'width=1600,height=800'\n          );\n        }}\n      />\n    </div>\n  );\n}\n"],"names":["mockInquiryData","_","i","mockHistoryData","inquiryColumns","historyColumns","CLOSING_MONTH_OPTIONS","SoundnessDataGenerationPage","tabId","usePathname","currentState","updateFilters","updateTableData","clearState","usePageStore","activeTab","setActiveTab","useState","userPermission","setUserPermission","tableType","setTableType","useEffect","listenForPopupMessages","message","customer","branch","user","inquiryFilterLayout","value","customerNumber","accountNumber","branchCode","branchName","usrno","usrNm","handleFilterChange","useCallback","name","handleSearch","handleHistorySearch","leftActions","useMemo","rightActions","baseActions","id","left","top","selectedMonth","monthOptions","currentColumns","amountColumns","jsxs","jsx","TitleIcon","Breadcrumb","BreadcrumbList","BreadcrumbItem","BreadcrumbSeparator","BreadcrumbPage","LeftActions","RightActions","Tabs","TabsList","TabsTrigger","TabsContent","FilterContainer","FilterFileUpload","DataTable","_a","row"],"mappings":"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"}