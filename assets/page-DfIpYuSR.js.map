{"version":3,"file":"page-DfIpYuSR.js","sources":["../../src/pages/popup/real-estate-auction/page.tsx"],"sourcesContent":["\n\nimport { useState, useCallback, Suspense, useMemo } from \"react\";\nimport { DataTable } from \"@/components/app/DataTable\";\nimport { FilterContainer } from \"@/components/filters/FilterContainer\";\nimport { PopupRightActions, PopupAction } from \"@/components/app/PopupRightActions\";\nimport type { FilterLayout } from \"@/components/filters/types\";\nimport { ColumnDef } from \"@tanstack/react-table\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\n\n// Type definition\ntype AuctionData = {\n  id: number;\n  inquiryDate: string;\n  inquirer: string;\n  customerName: string;\n  customerNumber: string;\n  accountNumber: string;\n  loanBalance: number;\n  infoType: string;\n  courtCode: string;\n  caseYear: string;\n  [key: string]: any; // Allow dynamic columns\n};\n\n// Mock Data\nconst mockData: AuctionData[] = Array.from({ length: 20 }, (_, i) => {\n  const row: AuctionData = {\n    id: i + 1,\n    inquiryDate: \"2025-12-17\",\n    inquirer: `담당자${i}`,\n    customerName: `고객${i}`,\n    customerNumber: `CUST${1000+i}`,\n    accountNumber: `123-45-6789${i}`,\n    loanBalance: 50000000 + (i * 10000),\n    infoType: i % 2 === 0 ? \"경매\" : \"공매\",\n    courtCode: \"SEOUL-01\",\n    caseYear: \"2025\",\n  };\n  // Add 20 more dummy columns\n  for (let j = 11; j <= 30; j++) {\n    row[`col${j}`] = \"-\";\n  }\n  return row;\n});\n\nfunction RealEstateAuctionPopupContent() {\n  const [filters, setFilters] = useState<Record<string, any>>({\n    searchDate: { start: \"2025-12-17\", end: \"2025-12-17\" },\n    center: \"all\",\n    team: \"all\",\n    group: \"all\",\n    counselor: \"all\"\n  });\n  \n  const [selectedIds, setSelectedIds] = useState<Set<number>>(new Set());\n\n  const handleFilterChange = useCallback((name: string, value: any) => {\n    setFilters((prev) => ({ ...prev, [name]: value }));\n  }, []);\n\n  const handleReset = () => {\n    setFilters({\n        searchDate: { start: \"2025-12-17\", end: \"2025-12-17\" },\n        center: \"all\",\n        team: \"all\",\n        group: \"all\",\n        counselor: \"all\"\n    });\n    setSelectedIds(new Set());\n  };\n\n  const popupActions: PopupAction[] = [\n    { id: \"search\", text: \"조회\" },\n    { id: \"reset\", text: \"초기화\", onClick: handleReset },\n    { id: \"excel\", text: \"엑셀다운로드\" }, // Excel download usually opens another popup or downloads directly\n  ];\n\n  // Filter Layout\n  const filterLayout: FilterLayout = [\n    {\n        type: \"grid\",\n        columns: 4,\n        filters: [\n            { name: \"searchDate\", type: \"date-range\", label: \"조회일자\", colSpan: 2 },\n            { name: \"center\", type: \"select\", label: \"센터\", options: [{ value: \"all\", label: \"전체\" }] },\n            { name: \"team\", type: \"select\", label: \"팀\", options: [{ value: \"all\", label: \"전체\" }] },\n            \n            { name: \"group\", type: \"select\", label: \"그룹\", options: [{ value: \"all\", label: \"전체\" }] },\n            { name: \"counselor\", type: \"select\", label: \"상담원\", options: [{ value: \"all\", label: \"전체\" }] },\n            { name: \"individualCount\", type: \"text\", label: \"개인\" },\n            { name: \"corporateCount\", type: \"text\", label: \"법인\" },\n            \n            { name: \"rightInfoCount\", type: \"text\", label: \"권리정보 총건수\" },\n            { name: \"rightInfoAmt\", type: \"text\", label: \"권리정보 총금액\" },\n            { name: \"dutyInfoCount\", type: \"text\", label: \"의무정보 총건수\" },\n            { name: \"dutyInfoAmt\", type: \"text\", label: \"의무정보 총금액\" },\n        ]\n    }\n  ];\n\n  // Selection Logic\n  const toggleSelection = useCallback((id: number) => {\n    setSelectedIds(prev => {\n        const newSet = new Set(prev);\n        if (newSet.has(id)) newSet.delete(id);\n        else newSet.add(id);\n        return newSet;\n    });\n  }, []);\n\n  const toggleAll = useCallback((checked: boolean) => {\n    if (checked) {\n        setSelectedIds(new Set(mockData.map(d => d.id)));\n    } else {\n        setSelectedIds(new Set());\n    }\n  }, []);\n\n  const columns: ColumnDef<AuctionData>[] = useMemo(() => {\n    const baseCols: ColumnDef<AuctionData>[] = [\n        {\n            id: \"select\",\n            header: ({ table }) => (\n              <div className=\"flex justify-center px-2\">\n                <Checkbox\n                    checked={mockData.length > 0 && selectedIds.size === mockData.length}\n                    onCheckedChange={(value) => toggleAll(!!value)}\n                    aria-label=\"Select all\"\n                />\n              </div>\n            ),\n            cell: ({ row }) => (\n              <div className=\"flex justify-center px-2\">\n                <Checkbox\n                    checked={selectedIds.has(row.original.id)}\n                    onCheckedChange={() => toggleSelection(row.original.id)}\n                    aria-label=\"Select row\"\n                    onClick={(e) => e.stopPropagation()}\n                />\n              </div>\n            ),\n            size: 40,\n            enableSorting: false,\n        },\n        { accessorKey: \"id\", header: \"순번\" },\n        { accessorKey: \"inquiryDate\", header: \"조회일자\" },\n        { accessorKey: \"inquirer\", header: \"조회요청자\" },\n        { accessorKey: \"customerName\", header: \"고객명\" },\n        { accessorKey: \"customerNumber\", header: \"고객번호\" },\n        { accessorKey: \"accountNumber\", header: \"계좌번호\" },\n        { accessorKey: \"loanBalance\", header: \"대출잔액\" },\n        { accessorKey: \"infoType\", header: \"정보구분\" },\n        { accessorKey: \"courtCode\", header: \"관할법원코드\" },\n        { accessorKey: \"caseYear\", header: \"사건년도\" },\n    ];\n\n    // Add 20 extra columns dynamically\n    const extraCols: ColumnDef<AuctionData>[] = Array.from({ length: 20 }, (_, i) => ({\n        accessorKey: `col${i + 11}`,\n        header: `추가항목${i + 1}`,\n    }));\n\n    return [...baseCols, ...extraCols];\n  }, [selectedIds, toggleAll, toggleSelection]);\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-50 overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center p-4 bg-white border-b shrink-0\">\n        <h2 className=\"text-xl font-bold\">부동산경매정보</h2>\n        <PopupRightActions actions={popupActions} />\n      </div>\n\n      <div className=\"flex-1 overflow-auto p-4 flex flex-col gap-6\">\n        {/* Search Section */}\n        <div>\n            <h3 className=\"font-semibold mb-2\">부동산경매정보</h3>\n            <FilterContainer\n                filterLayout={filterLayout}\n                values={filters}\n                onChange={handleFilterChange}\n            />\n        </div>\n\n        {/* Result Section */}\n        <div>\n            <DataTable \n                title=\"조회내용\" \n                columns={columns} \n                data={mockData} \n                minWidth=\"2500px\"\n                amountColumns={[\"loanBalance\"]}\n                dateColumnConfig={{ inquiryDate: 'YYYYMMDD' }}\n            />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function RealEstateAuctionPopupPage() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <RealEstateAuctionPopupContent />\n    </Suspense>\n  );\n}\n"],"names":["mockData","_","i","row","j","RealEstateAuctionPopupContent","filters","setFilters","useState","selectedIds","setSelectedIds","handleFilterChange","useCallback","name","value","prev","popupActions","filterLayout","toggleSelection","id","newSet","toggleAll","checked","d","columns","useMemo","baseCols","table","jsx","Checkbox","e","extraCols","jsxs","PopupRightActions","FilterContainer","DataTable","RealEstateAuctionPopupPage","Suspense"],"mappings":"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"}